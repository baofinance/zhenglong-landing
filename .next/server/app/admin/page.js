(()=>{var e={};e.id=3,e.ids=[3],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},5150:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=a(482),n=a(9108),r=a(2563),i=a.n(r),l=a(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let c=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,5557)),"/Users/andrewyoung/Documents/BaoGit/Zhenglong/src/app/admin/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,9364)),"/Users/andrewyoung/Documents/BaoGit/Zhenglong/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/andrewyoung/Documents/BaoGit/Zhenglong/src/app/admin/page.tsx"],u="/admin/page",p={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7065:(e,t,a)=>{Promise.resolve().then(a.bind(a,8290))},8290:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var s=a(5344),n=a(3729),r=a(5282),i=a(1371),l=a(7352),o=a(6825),c=a(2269),d=a(3083);let u=[{inputs:[{name:"config_",type:"tuple"}],name:"updateConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"feeReceiver_",type:"address"}],name:"updateFeeReceiver",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"reservePool_",type:"address"}],name:"updateReservePool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"priceOracle_",type:"address"}],name:"updatePriceOracle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"ZERO_FEE_ROLE",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"collateralIn",type:"uint256"},{name:"receiver",type:"address"}],name:"freeMintPeggedToken",outputs:[{type:"uint256",name:"peggedOut"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"peggedIn",type:"uint256"},{name:"receiver",type:"address"}],name:"freeRedeemPeggedToken",outputs:[{type:"uint256",name:"collateralOut"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"peggedIn",type:"uint256"},{name:"receiver",type:"address"}],name:"freeSwapPeggedForLeveraged",outputs:[{type:"uint256",name:"leveragedOut"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"collateralIn",type:"uint256"},{name:"receiver",type:"address"}],name:"freeMintLeveragedToken",outputs:[{type:"uint256",name:"leveragedOut"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"leveragedIn",type:"uint256"},{name:"receiver",type:"address"}],name:"freeRedeemLeveragedToken",outputs:[{type:"uint256",name:"collateralOut"}],stateMutability:"nonpayable",type:"function"}],p=[{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"}],m=[{inputs:[],name:"updatePrice",outputs:[],stateMutability:"nonpayable",type:"function"}],x=e=>{try{let t=e.replace(/[^\d.]/g,"");if(!t||isNaN(Number(t)))return BigInt(0);return(0,i.f)(t)}catch(e){return BigInt(0)}};function g(){let{isConnected:e,address:t}=(0,r.useAccount)(),[a,g]=(0,n.useState)(!1),[h,b]=(0,n.useState)(""),[v,y]=(0,n.useState)(""),[f,F]=(0,n.useState)(""),[j,N]=(0,n.useState)(""),[A,w]=(0,n.useState)(""),[C,k]=(0,n.useState)(""),[P,_]=(0,n.useState)(""),[M,R]=(0,n.useState)(""),[T,q]=(0,n.useState)(""),[E,S]=(0,n.useState)(""),[O,U]=(0,n.useState)(""),[L,I]=(0,n.useState)(!1);(0,n.useEffect)(()=>{g(!0)},[]);let W=o.Uu[Object.keys(o.Uu)[0]].addresses.minter,{write:G}=(0,r.useContractWrite)({address:W,abi:u,functionName:"updateFeeReceiver"}),{write:Z}=(0,r.useContractWrite)({address:W,abi:u,functionName:"updateReservePool"}),{write:B}=(0,r.useContractWrite)({address:W,abi:u,functionName:"updatePriceOracle"}),{write:$,isLoading:D}=(0,r.useContractWrite)({address:W,abi:u,functionName:"freeMintPeggedToken",args:[x(j||"0"),E]}),{write:H}=(0,r.useContractWrite)({address:W,abi:u,functionName:"freeRedeemPeggedToken",args:[(0,i.f)(P||"0"),E]}),{write:z}=(0,r.useContractWrite)({address:W,abi:u,functionName:"freeSwapPeggedForLeveraged",args:[(0,i.f)(M||"0"),E]}),{write:X,isLoading:J}=(0,r.useContractWrite)({address:W,abi:u,functionName:"freeMintLeveragedToken",args:[x(C||"0"),E]}),{write:K}=(0,r.useContractWrite)({address:W,abi:u,functionName:"freeRedeemLeveragedToken",args:[(0,i.f)(T||"0"),E]}),{data:Q}=(0,r.useContractRead)({address:W,abi:u,functionName:"ZERO_FEE_ROLE"}),{data:V}=(0,r.useContractRead)({address:o.Uu[Object.keys(o.Uu)[0]].addresses.collateralToken,abi:p,functionName:"allowance",args:[t,W],watch:!0}),{write:Y}=(0,r.useContractWrite)({address:o.Uu[Object.keys(o.Uu)[0]].addresses.collateralToken,abi:p,functionName:"approve",args:[W,x(O)]}),{write:ee}=(0,r.useContractWrite)({address:o.Uu[Object.keys(o.Uu)[0]].addresses.priceOracle,abi:m,functionName:"updatePrice"}),et=async()=>{if(!e||!t){console.error("Wallet not connected");return}if(!j||!E){console.error("Missing amount or receiver address");return}try{let e=x(j);if(e===BigInt(0)){console.error("Invalid amount");return}console.log("Minting pegged token with:",{amount:j,parsedAmount:e.toString(),receiver:E,minter:W,allowance:V?.toString()});let t=await $();console.log("Mint transaction result:",t)}catch(e){console.error("Error minting pegged token:",e)}},ea=async()=>{if(!e||!t){console.error("Wallet not connected");return}if(!C||!E){console.error("Missing amount or receiver address");return}try{let e=x(C);if(e===BigInt(0)){console.error("Invalid amount");return}console.log("Minting leveraged token with:",{amount:C,parsedAmount:e.toString(),receiver:E,minter:W,allowance:V?.toString()});let t=await X();console.log("Mint transaction result:",t)}catch(e){console.error("Error minting leveraged token:",e)}};return a?(0,s.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[s.jsx(d.Z,{}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-4xl font-bold mb-8 text-[#4A7C59]",children:"Admin Panel"}),e?(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"bg-[#1A1A1A]/95 p-6 shadow-[0_0_15px_rgba(74,124,89,0.1)]",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-[#4A7C59]",children:"Update Fee Receiver"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[s.jsx("input",{type:"text",value:h,onChange:e=>b(e.target.value),placeholder:"Enter new fee receiver address",className:"flex-1 bg-[#202020] px-4 py-2 text-[#F5F5F5]/70 placeholder-[#F5F5F5]/30"}),s.jsx("button",{onClick:()=>{h&&G({args:[h]})},className:"bg-[#4A7C59] px-4 py-2 hover:bg-[#4A7C59]/80 text-white",children:"Update"})]})]}),(0,s.jsxs)("div",{className:"bg-[#1A1A1A]/95 p-6 shadow-[0_0_15px_rgba(74,124,89,0.1)]",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-[#4A7C59]",children:"Update Reserve Pool"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[s.jsx("input",{type:"text",value:v,onChange:e=>y(e.target.value),placeholder:"Enter new reserve pool address",className:"flex-1 bg-[#202020] px-4 py-2 text-[#F5F5F5]/70 placeholder-[#F5F5F5]/30"}),s.jsx("button",{onClick:()=>{v&&Z({args:[v]})},className:"bg-[#4A7C59] px-4 py-2 hover:bg-[#4A7C59]/80 text-white",children:"Update"})]})]}),(0,s.jsxs)("div",{className:"bg-[#1A1A1A]/95 p-6 shadow-[0_0_15px_rgba(74,124,89,0.1)]",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-[#4A7C59]",children:"Update Price Oracle"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[s.jsx("input",{type:"text",value:f,onChange:e=>F(e.target.value),placeholder:"Enter new price oracle address",className:"flex-1 bg-[#202020] px-4 py-2 text-[#F5F5F5]/70 placeholder-[#F5F5F5]/30"}),s.jsx("button",{onClick:()=>{f&&B({args:[f]})},className:"bg-[#4A7C59] px-4 py-2 hover:bg-[#4A7C59]/80 text-white",children:"Update"})]})]}),(0,s.jsxs)("div",{className:"bg-[#1A1A1A]/95 p-6 shadow-[0_0_15px_rgba(74,124,89,0.1)]",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-[#4A7C59]",children:"Free Functions"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-[#202020] p-4",children:[s.jsx("h4",{className:"text-lg font-medium mb-3 text-[#F5F5F5]/70",children:"Receiver Address"}),s.jsx("div",{className:"space-y-3",children:(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1 text-[#F5F5F5]/70",children:"Address"}),s.jsx("input",{type:"text",value:E,onChange:e=>S(e.target.value),placeholder:"Enter receiver address",className:"w-full bg-[#1A1A1A] px-4 py-2 text-[#F5F5F5]/70 placeholder-[#F5F5F5]/30"})]})})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-[#4A7C59]",children:"Minting Operations"}),(0,s.jsxs)("div",{className:"bg-[#202020] p-4",children:[s.jsx("h4",{className:"text-lg font-medium mb-3 text-[#F5F5F5]/70",children:"Approve Collateral Token"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1 text-[#F5F5F5]/70",children:"Amount to Approve"}),s.jsx("input",{type:"number",value:O,onChange:e=>U(e.target.value),placeholder:"Enter amount to approve",className:"w-full bg-[#1A1A1A] px-4 py-2 text-[#F5F5F5]/70 placeholder-[#F5F5F5]/30"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>{O&&(I(!0),Y(),setTimeout(()=>{I(!1),U("")},5e3))},disabled:L||!O,className:"bg-[#4A7C59] px-4 py-2 hover:bg-[#4A7C59]/80 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:L?"Approving...":"Approve"}),V&&(0,s.jsxs)("span",{className:"text-sm text-[#F5F5F5]/70",children:["Current allowance: ",(0,l.d)(V)]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-[#202020] p-4",children:[s.jsx("h4",{className:"text-lg font-medium mb-3 text-[#F5F5F5]/70",children:"Mint Pegged Token"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1 text-[#F5F5F5]/70",children:"Required Collateral Amount"}),s.jsx("input",{type:"number",value:j,onChange:e=>N(e.target.value),placeholder:"Collateral Amount",className:"w-full bg-[#1A1A1A] px-4 py-2 text-[#F5F5F5]/70 placeholder-[#F5F5F5]/30"})]}),s.jsx("button",{onClick:et,disabled:!V||x(j)>V,className:"w-full bg-[#4A7C59] px-4 py-2 hover:bg-[#4A7C59]/80 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:V?x(j)>V?"Insufficient Allowance":"Mint Pegged Token":"Approve First"}),s.jsx("p",{className:"text-sm text-[#F5F5F5]/70",children:"Note: The collateral amount will be converted to pegged tokens based on the current oracle price (e.g., 1 ETH at $2000/ETH = 2000 pegged tokens)"})]})]}),(0,s.jsxs)("div",{className:"bg-[#202020] p-4",children:[s.jsx("h4",{className:"text-lg font-medium mb-3 text-[#F5F5F5]/70",children:"Mint Leveraged Token"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1 text-[#F5F5F5]/70",children:"Required Collateral Amount"}),s.jsx("input",{type:"number",value:C,onChange:e=>k(e.target.value),placeholder:"Collateral Amount",className:"w-full bg-[#1A1A1A] px-4 py-2 text-[#F5F5F5]/70 placeholder-[#F5F5F5]/30"})]}),s.jsx("button",{onClick:ea,disabled:!V||x(C)>V,className:"w-full bg-[#4A7C59] px-4 py-2 hover:bg-[#4A7C59]/80 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:V?x(C)>V?"Insufficient Allowance":"Mint Leveraged Token":"Approve First"}),s.jsx("p",{className:"text-sm text-[#F5F5F5]/70",children:"Note: The value of leveraged tokens is the difference between collateral value and pegged token value. For example, if 1 ETH ($2000) is used to mint $1000 worth of pegged tokens, the leveraged tokens will be worth $1000."})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-[#4A7C59]",children:"Redeeming Operations"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"bg-[#202020] p-4",children:[s.jsx("h4",{className:"text-lg font-medium mb-3 text-[#F5F5F5]/70",children:"Redeem Pegged Token"}),(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx("input",{type:"number",value:P,onChange:e=>_(e.target.value),placeholder:"Amount to redeem",className:"w-full bg-[#1A1A1A] px-4 py-2 text-[#F5F5F5]/70 placeholder-[#F5F5F5]/30"}),s.jsx("button",{onClick:()=>{P&&E&&H()},className:"w-full bg-[#4A7C59] px-4 py-2 hover:bg-[#4A7C59]/80 text-white",children:"Redeem Pegged Token"})]})]}),(0,s.jsxs)("div",{className:"bg-[#202020] p-4",children:[s.jsx("h4",{className:"text-lg font-medium mb-3 text-[#F5F5F5]/70",children:"Swap Pegged for Leveraged"}),(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx("input",{type:"number",value:M,onChange:e=>R(e.target.value),placeholder:"Amount to swap",className:"w-full bg-[#1A1A1A] px-4 py-2 text-[#F5F5F5]/70 placeholder-[#F5F5F5]/30"}),s.jsx("button",{onClick:()=>{M&&E&&z()},className:"w-full bg-[#4A7C59] px-4 py-2 hover:bg-[#4A7C59]/80 text-white",children:"Swap Pegged for Leveraged"})]})]}),(0,s.jsxs)("div",{className:"bg-[#202020] p-4",children:[s.jsx("h4",{className:"text-lg font-medium mb-3 text-[#F5F5F5]/70",children:"Redeem Leveraged Token"}),(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx("input",{type:"number",value:T,onChange:e=>q(e.target.value),placeholder:"Amount to redeem",className:"w-full bg-[#1A1A1A] px-4 py-2 text-[#F5F5F5]/70 placeholder-[#F5F5F5]/30"}),s.jsx("button",{onClick:()=>{T&&E&&K()},className:"w-full bg-[#4A7C59] px-4 py-2 hover:bg-[#4A7C59]/80 text-white",children:"Redeem Leveraged Token"})]})]})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Price Feed Management"}),s.jsx("button",{onClick:()=>{ee()},className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded",disabled:!e,children:"Update Price Feed"})]})]}):(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("p",{className:"mb-4 text-[#F5F5F5]/70",children:"Please connect your wallet to access admin functions"}),s.jsx(c.Z,{})]})]})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[s.jsx(d.Z,{}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-4xl font-bold mb-8 text-[#4A7C59]",children:"Admin Panel"}),(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("p",{className:"mb-4 text-[#F5F5F5]/70",children:"Please connect your wallet to access admin functions"}),s.jsx(c.Z,{})]})]})]})}},5557:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>r,__esModule:()=>n,default:()=>i});let s=(0,a(6843).createProxy)(String.raw`/Users/andrewyoung/Documents/BaoGit/Zhenglong/src/app/admin/page.tsx`),{__esModule:n,$$typeof:r}=s,i=s.default},1371:(e,t,a)=>{"use strict";a.d(t,{f:()=>r});var s=a(5392),n=a(9977);function r(e,t="wei"){return(0,n.v)(e,s.ez[t])}}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[638,429,337,397,774],()=>a(5150));module.exports=s})();