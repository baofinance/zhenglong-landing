(()=>{var e={};e.id=191,e.ids=[191],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},6926:e=>{e.exports={style:{fontFamily:"'__Geo_ea146f', '__Geo_Fallback_ea146f'",fontWeight:400,fontStyle:"normal"},className:"__className_ea146f"}},3886:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=a(482),n=a(9108),r=a(2563),l=a.n(r),i=a(8300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let c=["",{children:["app",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3724)),"/Users/andrewyoung/Documents/BaoGit/Zhenglong/src/app/app/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,9364)),"/Users/andrewyoung/Documents/BaoGit/Zhenglong/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/andrewyoung/Documents/BaoGit/Zhenglong/src/app/app/page.tsx"],u="/app/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/app/page",pathname:"/app",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1425:(e,t,a)=>{Promise.resolve().then(a.bind(a,1747))},978:(e,t)=>{"use strict";function a(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1747:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>O});var s=a(5344),n=a(6926),r=a.n(n),l=a(3729),i=a(5282),o=a(7352),c=a(6825);function d({symbol:e,theme:t="dark"}){let a=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let s=document.createElement("script");return s.src="https://s3.tradingview.com/tv.js",s.async=!0,s.onload=()=>{a.current&&window.TradingView&&new window.TradingView.widget({container_id:a.current.id,symbol:e,interval:"D",timezone:"Etc/UTC",theme:t,style:"1",locale:"en",toolbar_bg:"#1A1A1A",enable_publishing:!1,hide_top_toolbar:!1,hide_legend:!1,save_image:!1,backgroundColor:"#0A0A0A",gridColor:"rgba(74, 124, 89, 0.1)",width:"100%",height:"100%"})},document.head.appendChild(s),()=>{s.remove()}},[e,t]),s.jsx("div",{className:"w-full h-full bg-[#0A0A0A]",children:s.jsx("div",{id:"tradingview_widget",ref:a,className:"w-full h-full"})})}var u=a(3083);let m=function(){for(var e,t,a=0,s="",n=arguments.length;a<n;a++)(e=arguments[a])&&(t=function e(t){var a,s,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t)){var r=t.length;for(a=0;a<r;a++)t[a]&&(s=e(t[a]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s)}return n}(e))&&(s&&(s+=" "),s+=t);return s};var p=a(1371);let x={LONG:["zheUSD","longBTC","longETH","longTSLA","longSP500"],STEAMED:["steamedETH","steamedBTC","steamedTSLA","steamedSP500","steamedETH-DOWN","steamedBTC-DOWN","steamedTSLA-DOWN","steamedSP500-DOWN"]},g=[{inputs:[],name:"leverageRatio",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"},{inputs:[],name:"mintPeggedTokenIncentiveRatio",outputs:[{type:"int256",name:""}],stateMutability:"view",type:"function"},{inputs:[],name:"redeemPeggedTokenIncentiveRatio",outputs:[{type:"int256",name:""}],stateMutability:"view",type:"function"},{inputs:[{name:"collateralIn",type:"uint256"},{name:"receiver",type:"address"},{name:"minPeggedOut",type:"uint256"}],name:"mintPeggedToken",outputs:[{type:"uint256",name:"peggedAmount"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"peggedIn",type:"uint256"},{name:"receiver",type:"address"},{name:"minCollateralOut",type:"uint256"}],name:"redeemPeggedToken",outputs:[{type:"uint256",name:"collateralAmount"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"collateralIn",type:"uint256"},{name:"receiver",type:"address"},{name:"minLeveragedOut",type:"uint256"}],name:"mintLeveragedToken",outputs:[{type:"uint256",name:"leveragedAmount"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"leveragedIn",type:"uint256"},{name:"receiver",type:"address"},{name:"minCollateralOut",type:"uint256"}],name:"redeemLeveragedToken",outputs:[{type:"uint256",name:"collateralAmount"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"collateralAmount",type:"uint256"}],name:"calculateMintPeggedTokenOutput",outputs:[{type:"uint256",name:"peggedAmount"}],stateMutability:"view",type:"function"},{inputs:[{name:"peggedAmount",type:"uint256"}],name:"calculateRedeemPeggedTokenOutput",outputs:[{type:"uint256",name:"collateralAmount"}],stateMutability:"view",type:"function"},{inputs:[{name:"collateralAmount",type:"uint256"}],name:"calculateMintLeveragedTokenOutput",outputs:[{type:"uint256",name:"leveragedAmount"}],stateMutability:"view",type:"function"},{inputs:[{name:"leveragedAmount",type:"uint256"}],name:"calculateRedeemLeveragedTokenOutput",outputs:[{type:"uint256",name:"collateralAmount"}],stateMutability:"view",type:"function"},{inputs:[{name:"amount",type:"uint256"}],name:"mintPeggedTokenDryRun",outputs:[{type:"int256",name:"incentiveRatio"},{type:"uint256",name:"collateralUsed"},{type:"uint256",name:"peggedMinted"},{type:"uint256",name:"fee"},{type:"uint256",name:"reserveCollateralUsed"},{type:"uint256",name:"price"}],stateMutability:"view",type:"function"},{inputs:[{name:"peggedIn",type:"uint256"}],name:"redeemPeggedTokenDryRun",outputs:[{type:"int256",name:"incentiveRatio"},{type:"uint256",name:"peggedRedeemed"},{type:"uint256",name:"collateralReturned"},{type:"uint256",name:"fee"},{type:"uint256",name:"reserveCollateralUsed"},{type:"uint256",name:"price"}],stateMutability:"view",type:"function"},{inputs:[{name:"leveragedIn",type:"uint256"}],name:"redeemLeveragedTokenDryRun",outputs:[{type:"int256",name:"incentiveRatio"},{type:"uint256",name:"leveragedRedeemed"},{type:"uint256",name:"collateralReturned"},{type:"uint256",name:"fee"},{type:"uint256",name:"reserveCollateralUsed"},{type:"uint256",name:"price"}],stateMutability:"view",type:"function"},{inputs:[{name:"collateralIn",type:"uint256"}],name:"mintLeveragedTokenDryRun",outputs:[{type:"int256",name:"incentiveRatio"},{type:"uint256",name:"collateralUsed"},{type:"uint256",name:"leveragedMinted"},{type:"uint256",name:"fee"},{type:"uint256",name:"reserveCollateralUsed"},{type:"uint256",name:"price"}],stateMutability:"view",type:"function"}],h=[{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool",name:""}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"}],f=e=>("bigint"==typeof e&&(e=Number(e)/1e18),"string"==typeof e&&(e=Number(e)),isNaN(e))?"-":0===e?"0":e%1==0?e.toString():e.toLocaleString("en-US",{maximumFractionDigits:6}).replace(/\.?0+$/,""),b=e=>!e||e>BigInt("1"+"0".repeat(30))?"-":(Number(e)/1e18).toFixed(2)+"x",y=e=>{if(!e)return"-";let t=Number(e)/1e18;return t>0?`+${(100*t).toFixed(2)}%`:`${(100*t).toFixed(2)}%`},v=e=>{if(!e)return"-";try{return Number((0,o.d)(e)).toFixed(6)}catch{return"-"}},N=({geoClassName:e,currentMarket:t,isConnected:a,userAddress:n})=>{let[r,c]=(0,l.useState)(!1),{chain:d}=(0,i.useNetwork)(),{data:u}=(0,i.useWalletClient)({chainId:d?.id}),N=(0,i.usePublicClient)({chainId:d?.id}),[j,F]=(0,l.useState)(!1),[w,A]=(0,l.useState)("LONG"),[k,C]=(0,l.useState)(!0),[T,E]=(0,l.useState)(""),[D,M]=(0,l.useState)(""),[O,B]=(0,l.useState)(!1),[L,R]=(0,l.useState)(!1),[G,S]=(0,l.useState)(!1),[P,_]=(0,l.useState)(null),[U,I]=(0,l.useState)(x[w][0]),{data:$}=(0,i.useContractReads)({contracts:[{address:t.addresses.collateralToken,abi:h,functionName:"balanceOf",args:n?[n]:void 0},{address:t.addresses.collateralToken,abi:h,functionName:"allowance",args:n?[n,t.addresses.minter]:void 0}],watch:!0,enabled:r&&!!n}),{data:V}=(0,i.useContractReads)({contracts:[{address:t.addresses.peggedToken,abi:h,functionName:"balanceOf",args:n?[n]:void 0},{address:t.addresses.peggedToken,abi:h,functionName:"allowance",args:n?[n,t.addresses.minter]:void 0}],watch:!0,enabled:r&&!!n&&"LONG"===w}),{data:W}=(0,i.useContractReads)({contracts:[{address:t.addresses.leveragedToken,abi:h,functionName:"balanceOf",args:n?[n]:void 0},{address:t.addresses.leveragedToken,abi:h,functionName:"allowance",args:n?[n,t.addresses.minter]:void 0}],watch:!0,enabled:r&&!!n&&"STEAMED"===w}),{data:q}=(0,i.useContractReads)({contracts:[{address:t.addresses.minter,abi:g,functionName:"leverageRatio"},{address:t.addresses.minter,abi:g,functionName:"mintPeggedTokenIncentiveRatio"},{address:t.addresses.minter,abi:g,functionName:"redeemPeggedTokenIncentiveRatio"}],watch:!0,enabled:r}),{data:H,refetch:z}=(0,i.useContractRead)({address:t.addresses.minter,abi:g,functionName:"mintPeggedTokenDryRun",args:[T?(0,p.f)(T):BigInt(0)],watch:!0,enabled:r&&k&&"LONG"===w&&!!T&&parseFloat(T)>0}),{data:X,error:Z}=(0,i.useContractRead)({address:t.addresses.minter,abi:g,functionName:"redeemPeggedTokenDryRun",args:[T?(0,p.f)(T):BigInt(0)],watch:!0,enabled:r&&!k&&"LONG"===w&&!!T&&parseFloat(T)>0}),{data:Y,error:J}=(0,i.useContractRead)({address:t.addresses.minter,abi:g,functionName:"redeemLeveragedTokenDryRun",args:[T?(0,p.f)(T):BigInt(0)],watch:!0,enabled:r&&!k&&"STEAMED"===w&&!!T&&parseFloat(T)>0}),{data:K,refetch:Q}=(0,i.useContractRead)({address:t.addresses.minter,abi:g,functionName:"mintLeveragedTokenDryRun",args:[T?(0,p.f)(T):BigInt(0)],watch:!0,enabled:r&&k&&"STEAMED"===w&&!!T&&parseFloat(T)>0});(0,l.useEffect)(()=>{if(k&&"LONG"===w&&T&&Array.isArray(H)&&H.length>1)try{let e=(0,p.f)(T),t=H[1];"bigint"==typeof t&&t<e&&(R(!0),setTimeout(()=>R(!1),500))}catch(e){console.error("Error parsing input amount for shake effect:",e)}},[T,H,k,w,R]);let{data:ee,refetch:et}=(0,i.useContractReads)({contracts:[{address:t.addresses.minter,abi:g,functionName:k?"LONG"===w?"calculateMintPeggedTokenOutput":"calculateMintLeveragedTokenOutput":"LONG"===w?"calculateRedeemPeggedTokenOutput":"calculateRedeemLeveragedTokenOutput",args:[T?(0,p.f)(T):BigInt(0)]}],enabled:r&&!!T&&parseFloat(T)>0&&!(k&&"LONG"===w),watch:!0}),{writeAsync:ea}=(0,i.useContractWrite)({address:t.addresses.minter,abi:g,functionName:"mintPeggedToken"}),{writeAsync:es}=(0,i.useContractWrite)({address:t.addresses.minter,abi:g,functionName:"redeemPeggedToken"}),{writeAsync:en}=(0,i.useContractWrite)({address:t.addresses.minter,abi:g,functionName:"mintLeveragedToken"}),{writeAsync:er}=(0,i.useContractWrite)({address:t.addresses.minter,abi:g,functionName:"redeemLeveragedToken"}),{writeAsync:el}=(0,i.useContractWrite)({address:t.addresses.collateralToken,abi:h,functionName:"approve"}),{writeAsync:ei}=(0,i.useContractWrite)({address:t.addresses.peggedToken,abi:h,functionName:"approve"}),{writeAsync:eo}=(0,i.useContractWrite)({address:t.addresses.leveragedToken,abi:h,functionName:"approve"});(0,l.useEffect)(()=>c(!0),[]),(0,l.useEffect)(()=>{if(k){if("LONG"===w&&Array.isArray(H)&&H.length>2){let e=H[2];"bigint"==typeof e?M((0,o.d)(e)):M("")}else if("STEAMED"===w&&Array.isArray(K)&&K.length>2){let e=K[2];"bigint"==typeof e?M((0,o.d)(e)):M("")}else ee&&ee[0]?.status==="success"&&"bigint"==typeof ee[0]?.result?M((0,o.d)(ee[0].result)):T||M("")}else if("LONG"===w&&Array.isArray(X)&&X.length>2){let e=X[2];"bigint"==typeof e?M((0,o.d)(e)):M("")}else if("STEAMED"===w&&Array.isArray(Y)&&Y.length>2){let e=Y[2];"bigint"==typeof e?M((0,o.d)(e)):M("")}else T||M("")},[H,X,Y,ee,T,k,w,M]),(0,l.useEffect)(()=>{E(""),M("")},[k,w,t.id]);let ec=e=>{let t=e.target.value;/^\d*\.?\d*$/.test(t)&&(E(t),t&&0!==parseFloat(t)||M(""))},ed=e=>{let t=e.target.value;/^\d*\.?\d*$/.test(t)&&(M(t),t&&0!==parseFloat(t)||E(""))},eu=()=>{let e=k?$?.[0]?.result:"LONG"===w?V?.[0]?.result:W?.[0]?.result;"bigint"==typeof e&&E((0,o.d)(e))},em=async e=>{if(e.preventDefault(),!(!T||0>=parseFloat(T))&&n&&u){B(!0),_(null);try{let e=(0,p.f)(T),a=BigInt(0),s,r;if(k?(a=$?.[1]?.result??BigInt(0),s=el):"LONG"===w?(a=V?.[1]?.result??BigInt(0),s=ei):(a=W?.[1]?.result??BigInt(0),s=eo),r=[t.addresses.minter,e],a<e){_("approval");let e=await s({args:r});e&&e.hash&&N?await N.waitForTransactionReceipt({hash:e.hash}):await new Promise(e=>setTimeout(e,5e3))}if(_("mintOrRedeem"),k){if("LONG"===w){let t=e;Array.isArray(H)&&H.length>2&&"bigint"==typeof H[2]&&(t=H[2]),await ea({args:[e,n,t]})}else{let t=e;if(Array.isArray(K)&&K.length>2&&"bigint"==typeof K[2])t=K[2];else if(D&&parseFloat(D)>0)try{t=(0,p.f)(D)}catch(e){console.error("Error parsing outputAmount for minLeveragedOut:",e)}await en({args:[e,n,t]})}}else if("LONG"===w){let t=e;Array.isArray(X)&&X.length>2&&"bigint"==typeof X[2]&&(t=X[2]),await es({args:[e,n,t]})}else{let t=e;Array.isArray(Y)&&Y.length>2&&"bigint"==typeof Y[2]&&(t=Y[2]),await er({args:[e,n,t]})}E(""),M("")}catch(e){if(console.error("Transaction failed:",e),e&&"object"==typeof e&&null!==e){for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&console.error(`[ERROR DETAIL] ${t}:`,e[t]);try{console.error("[ERROR STRINGIFIED]",JSON.stringify(e,Object.getOwnPropertyNames(e)))}catch(e){console.error("[ERROR STRINGIFY FAILED]",e)}}alert("Transaction failed. See console for details.")}finally{B(!1),_(null)}}},ep=q?.[0]?.result,ex=q?.[1]?.result,eg=q?.[2]?.result;return r?s.jsx("div",{className:"bg-neutral-800 p-4 shadow-custom-dark",children:(0,s.jsxs)("div",{className:"w-full max-w-xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex border-b border-[#333] mb-6",children:[s.jsx("button",{onClick:()=>{A("LONG"),F(!1)},className:m(`px-6 py-2 text-lg font-medium transition-all duration-200 ease-in-out outline-none focus:outline-none border-b-2 ${e}`,"LONG"===w?"border-[#4A7C59] text-[#4A7C59]":"border-transparent text-[#F5F5F5]/70 hover:text-[#F5F5F5]"),children:"PEGGED"}),s.jsx("button",{onClick:()=>{A("STEAMED"),F(!0)},className:m(`px-6 py-2 text-lg font-medium transition-all duration-200 ease-in-out outline-none focus:outline-none border-b-2 ${e}`,"STEAMED"===w?"border-[#4A7C59] text-[#4A7C59]":"border-transparent text-[#F5F5F5]/70 hover:text-[#F5F5F5]"),children:"LEVERAGE"})]}),s.jsx("div",{className:"relative [perspective:1000px] w-full",children:(0,s.jsxs)("div",{className:"relative [transform-style:preserve-3d] transition-transform duration-500 h-[600px]",style:{transform:j?"rotateY(180deg)":"rotateY(0deg)"},children:[s.jsx("div",{className:"absolute inset-0 bg-[#0A0A0A]/90 before:absolute before:inset-0 before:bg-black/90 shadow-[0_0_15px_rgba(74,124,89,0.1)] [backface-visibility:hidden] transform-gpu",children:s.jsx("div",{className:`relative z-10 h-full transition-opacity duration-50 delay-[145ms] ${"LONG"===w?"opacity-100":"opacity-0"}`,children:(0,s.jsxs)("div",{className:"p-6",children:[s.jsx("div",{className:"text-center mb-6",children:s.jsx("h1",{className:`text-3xl text-[#4A7C59] mb-1 ${e}`,children:"zheUSD"})}),s.jsx("form",{onSubmit:em,className:"space-y-8",children:(0,s.jsxs)("div",{className:"space-y-6 relative",children:[(0,s.jsxs)("div",{className:"relative h-[360px]",children:[" ",(0,s.jsxs)("div",{className:`absolute w-full space-y-2 transition-all duration-200 ${k?"translate-y-0":"translate-y-[calc(260%+2rem)]"}`,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[#F5F5F5]/80",children:"From"}),(0,s.jsxs)("span",{className:"text-sm text-[#F5F5F5]/60",children:["Balance:"," ",v($?.[0]?.result)," ","wstETH"]})]}),(0,s.jsxs)("div",{className:"flex-1 relative",children:[s.jsx("input",{type:"text",value:k?T:D,onChange:k?ec:void 0,placeholder:"0.0",className:"w-full bg-[#202020] text-[#F5F5F5] border border-[#4A7C59]/30 focus:border-[#4A7C59] outline-none transition-all p-4 pr-24",readOnly:!k}),(0,s.jsxs)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex flex-col items-end",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[k&&s.jsx("button",{type:"button",onClick:eu,className:"text-[#4A7C59] hover:text-[#3A6147] text-sm transition-colors",children:"MAX"}),s.jsx("span",{className:"text-[#F5F5F5]/70",children:"wstETH"})]}),k&&s.jsx("button",{onClick:()=>window.open("https://swap.defillama.com/?chain=ethereum&from=0x0000000000000000000000000000000000000000&tab=swap&to=0x7f39c581f595b53c5cb19bd0b3f8da6c935e2ca0","_blank"),className:"text-[#4A7C59] hover:text-[#3A6147] text-[10px] transition-colors mt-1",children:"Get wstETH"})]})]}),k&&"LONG"===w&&(0,s.jsxs)("div",{className:L?"text-sm text-red-500 font-semibold mt-1":"text-sm text-[#F5F5F5]/60 mt-1",children:["Collateral Needed:"," ",T&&0!==parseFloat(T)&&Array.isArray(H)&&H.length>1&&"bigint"==typeof H[1]?f(H[1]):"-"]})]}),(0,s.jsxs)("div",{className:"absolute top-[160px] left-0 right-0 flex items-center w-full",children:[(0,s.jsxs)("div",{className:"text-xs text-left min-w-[80px] flex items-center justify-start gap-1",children:[!k&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("span",{className:"text-[#F5F5F5]/70",children:"Fee:"}),s.jsx("span",{className:"text-[#4A7C59]",children:"STEAMED"===w&&Array.isArray(Y)&&Y.length>0&&"bigint"==typeof Y[0]?y(Y[0]):"LONG"===w?y(eg):"-"})]}),k&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("span",{className:"text-[#F5F5F5]/70",children:"Fee:"}),s.jsx("span",{className:"text-[#4A7C59]",children:"LONG"===w?y(ex):"STEAMED"===w&&Array.isArray(K)&&K.length>0&&"bigint"==typeof K[0]?y(K[0]):"-"})]})]}),(0,s.jsxs)("div",{className:"flex-grow flex items-center justify-center gap-x-4",children:[s.jsx("span",{className:`text-sm font-medium transition-colors duration-200 ${k?"text-[#4A7C59]":"text-[#F5F5F5]/40"}`,children:"Mint"}),(0,s.jsxs)("button",{type:"button",onClick:()=>C(!k),className:"group relative flex items-center justify-center px-2 py-2 mx-2 bg-[#4A7C59] hover:bg-[#3A6147] transition-colors",children:[s.jsx("svg",{viewBox:"0 0 24 24",fill:"none",className:`w-5 h-5 transition-transform duration-200 ${k?"rotate-0":"rotate-180"}`,children:s.jsx("path",{d:"M12 4V20M19 13L12 20L5 13",stroke:"#F5F5F5",strokeOpacity:k?"1":"0.3",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsx("svg",{viewBox:"0 0 24 24",fill:"none",className:`w-5 h-5 transition-transform duration-200 ${k?"rotate-0":"rotate-180"}`,children:s.jsx("path",{d:"M12 20V4M5 11L12 4L19 11",stroke:"#F5F5F5",strokeOpacity:k?"0.3":"1",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),s.jsx("span",{className:`text-sm font-medium transition-colors duration-200 ${k?"text-[#F5F5F5]/40":"text-[#4A7C59]"}`,children:"Redeem"})]}),s.jsx("div",{className:"min-w-[80px]"})]}),(0,s.jsxs)("div",{className:`absolute w-full space-y-2 transition-all duration-200 ${k?"translate-y-[calc(260%+2rem)]":"translate-y-0"}`,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[#F5F5F5]/80",children:"To"}),(0,s.jsxs)("span",{className:"text-sm text-[#F5F5F5]/60",children:["Balance:"," ",v(V?.[0]?.result)," ","zheUSD"]})]}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{type:"number",value:k?D:T,onChange:k?ed:ec,placeholder:"0.0",className:"w-full p-4 bg-[#202020] text-[#F5F5F5] border border-[#4A7C59]/30 focus:border-[#4A7C59] outline-none transition-all pr-24 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",readOnly:k}),(0,s.jsxs)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[!k&&"LONG"===w&&s.jsx("button",{type:"button",onClick:eu,className:"text-[#4A7C59] hover:text-[#3A6147] text-sm transition-colors",children:"MAX"}),s.jsx("span",{className:"text-[#F5F5F5]/70",children:"zheUSD"})]})]}),!k&&"LONG"===w&&Z&&s.jsx("div",{className:"text-sm text-red-500 font-semibold mt-1",children:"Invalid amount or not enough balance"})]})]}),s.jsx("div",{className:"relative [perspective:1000px]",children:a?O&&"approval"===P?s.jsx("button",{type:"submit",disabled:!0,className:`w-full p-4 text-center text-2xl bg-[#1F3529] text-[#4A7C59] cursor-not-allowed ${e}`,children:"Waiting for approval transaction..."}):O&&"mintOrRedeem"===P?s.jsx("button",{type:"submit",disabled:!0,className:`w-full p-4 text-center text-2xl bg-[#1F3529] text-[#4A7C59] cursor-not-allowed ${e}`,children:"Waiting for mint/redeem transaction..."}):(0,s.jsxs)("div",{className:"[transform-style:preserve-3d] transition-transform duration-200 relative h-[60px]",style:{transformOrigin:"center center",transform:k?"rotateX(0deg)":"rotateX(180deg)"},children:[s.jsx("button",{onClick:em,disabled:!T||0>=parseFloat(T),className:`w-full p-4 text-center text-2xl bg-[#4A7C59] hover:bg-[#5A8C69] text-white absolute inset-0 [backface-visibility:hidden] [transform-style:preserve-3d] shadow-[0_0_20px_rgba(74,124,89,0.2)] disabled:bg-[#1F3529] disabled:text-[#4A7C59] disabled:cursor-not-allowed ${e}`,children:s.jsx("span",{className:e,children:!T||0>=parseFloat(T)?"Enter Amount":k?"MINT":"REDEEM"})}),s.jsx("button",{onClick:em,disabled:!T||0>=parseFloat(T),className:`w-full p-4 text-center text-2xl bg-[#4A7C59] hover:bg-[#5A8C69] text-white absolute inset-0 [transform:rotateX(180deg)] [backface-visibility:hidden] [transform-style:preserve-3d] disabled:bg-[#1F3529] disabled:text-[#4A7C59] disabled:cursor-not-allowed ${e}`,children:s.jsx("span",{className:e,children:!T||0>=parseFloat(T)?"Enter Amount":k?"MINT":"REDEEM"})})]}):s.jsx("button",{type:"submit",disabled:!0,className:`w-full p-4 text-center text-2xl bg-[#1F3529] text-[#4A7C59] cursor-not-allowed ${e}`,children:"Connect Wallet"})})]})})]})})}),s.jsx("div",{className:"absolute inset-0 bg-[#0A0A0A]/90 before:absolute before:inset-0 before:bg-black/90 shadow-[0_0_15px_rgba(74,124,89,0.1)] [backface-visibility:hidden] [transform:rotateY(180deg)] transform-gpu",children:s.jsx("div",{className:`relative z-10 h-full transition-opacity duration-50 delay-[145ms] ${"STEAMED"===w?"opacity-100":"opacity-0"}`,children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"text-center mb-4",children:[s.jsx("h1",{className:`text-3xl text-[#4A7C59] mb-1 ${e}`,children:"steamedETH "}),(0,s.jsxs)("div",{className:"text-[#F5F5F5]/50 text-sm -mt-1",children:[s.jsx("span",{className:"block text-[10px] mb-0.5",children:"Leverage"}),b(ep)]})]}),s.jsx("form",{onSubmit:em,className:"space-y-8 mt-2",children:(0,s.jsxs)("div",{className:"space-y-6 relative",children:[(0,s.jsxs)("div",{className:"relative h-[360px]",children:[" ",(0,s.jsxs)("div",{className:`absolute w-full space-y-2 transition-all duration-200 ${k?"translate-y-0":"translate-y-[calc(260%+2rem)]"}`,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[#F5F5F5]/80",children:"From"}),(0,s.jsxs)("span",{className:"text-sm text-[#F5F5F5]/60",children:["Balance:"," ",v($?.[0]?.result)," ","wstETH"]})]}),(0,s.jsxs)("div",{className:"flex-1 relative",children:[s.jsx("input",{type:"text",value:k?T:D,onChange:k?ec:void 0,placeholder:"0.0",className:"w-full bg-[#202020] text-[#F5F5F5] border border-[#4A7C59]/30 focus:border-[#4A7C59] outline-none transition-all p-4 pr-24",readOnly:!k}),(0,s.jsxs)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex flex-col items-end",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[k&&s.jsx("button",{type:"button",onClick:eu,className:"text-[#4A7C59] hover:text-[#3A6147] text-sm transition-colors",children:"MAX"}),s.jsx("span",{className:"text-[#F5F5F5]/70",children:"wstETH"})]}),k&&s.jsx("button",{onClick:()=>window.open("https://swap.defillama.com/?chain=ethereum&from=0x0000000000000000000000000000000000000000&tab=swap&to=0x7f39c581f595b53c5cb19bd0b3f8da6c935e2ca0","_blank"),className:"text-[#4A7C59] hover:text-[#3A6147] text-[10px] transition-colors mt-1",children:"Get wstETH"})]})]})]}),(0,s.jsxs)("div",{className:"absolute top-[160px] left-0 right-0 flex items-center w-full",children:[(0,s.jsxs)("div",{className:"text-xs text-left min-w-[80px] flex items-center justify-start gap-1",children:[!k&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("span",{className:"text-[#F5F5F5]/70",children:"Fee:"}),s.jsx("span",{className:"text-[#4A7C59]",children:"STEAMED"===w&&Array.isArray(Y)&&Y.length>0&&"bigint"==typeof Y[0]?y(Y[0]):"LONG"===w?y(eg):"-"})]}),k&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("span",{className:"text-[#F5F5F5]/70",children:"Fee:"}),s.jsx("span",{className:"text-[#4A7C59]",children:"LONG"===w?y(ex):"STEAMED"===w&&Array.isArray(K)&&K.length>0&&"bigint"==typeof K[0]?y(K[0]):"-"})]})]}),(0,s.jsxs)("div",{className:"flex-grow flex items-center justify-center gap-x-4",children:[s.jsx("span",{className:`text-sm font-medium transition-colors duration-200 ${k?"text-[#4A7C59]":"text-[#F5F5F5]/40"}`,children:"Mint"}),(0,s.jsxs)("button",{type:"button",onClick:()=>C(!k),className:"group relative flex items-center justify-center px-2 py-2 mx-2 bg-[#4A7C59] hover:bg-[#3A6147] transition-colors",children:[s.jsx("svg",{viewBox:"0 0 24 24",fill:"none",className:`w-5 h-5 transition-transform duration-200 ${k?"rotate-0":"rotate-180"}`,children:s.jsx("path",{d:"M12 4V20M19 13L12 20L5 13",stroke:"#F5F5F5",strokeOpacity:k?"1":"0.3",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),s.jsx("svg",{viewBox:"0 0 24 24",fill:"none",className:`w-5 h-5 transition-transform duration-200 ${k?"rotate-0":"rotate-180"}`,children:s.jsx("path",{d:"M12 20V4M5 11L12 4L19 11",stroke:"#F5F5F5",strokeOpacity:k?"0.3":"1",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),s.jsx("span",{className:`text-sm font-medium transition-colors duration-200 ${k?"text-[#F5F5F5]/40":"text-[#4A7C59]"}`,children:"Redeem"})]}),s.jsx("div",{className:"min-w-[80px]"})]}),(0,s.jsxs)("div",{className:`absolute w-full space-y-2 transition-all duration-200 ${k?"translate-y-[calc(260%+2rem)]":"translate-y-0"}`,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm text-[#F5F5F5]/80",children:"To"}),(0,s.jsxs)("span",{className:"text-sm text-[#F5F5F5]/60",children:["Balance:"," ",v(W?.[0]?.result)," ","steamedETH "]})]}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{type:"number",value:k?D:T,onChange:k?ed:ec,placeholder:"0.0",className:"w-full p-4 bg-[#202020] text-[#F5F5F5] border border-[#4A7C59]/30 focus:border-[#4A7C59] outline-none transition-all pr-24 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",readOnly:k}),(0,s.jsxs)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[!k&&"STEAMED"===w&&s.jsx("button",{type:"button",onClick:eu,className:"text-[#4A7C59] hover:text-[#3A6147] text-sm transition-colors",children:"MAX"}),s.jsx("span",{className:"text-[#F5F5F5]/70",children:"steamedETH"})]})]}),!k&&"STEAMED"===w&&J&&s.jsx("div",{className:"text-sm text-red-500 font-semibold mt-1",children:"Invalid amount or not enough balance"})]})]}),s.jsx("div",{className:"relative [perspective:1000px]",children:a?O&&"approval"===P?s.jsx("button",{type:"submit",disabled:!0,className:`w-full p-4 text-center text-2xl bg-[#1F3529] text-[#4A7C59] cursor-not-allowed ${e}`,children:"Waiting for approval transaction..."}):O&&"mintOrRedeem"===P?s.jsx("button",{type:"submit",disabled:!0,className:`w-full p-4 text-center text-2xl bg-[#1F3529] text-[#4A7C59] cursor-not-allowed ${e}`,children:"Waiting for mint/redeem transaction..."}):(0,s.jsxs)("div",{className:"[transform-style:preserve-3d] transition-transform duration-200 relative h-[60px]",style:{transformOrigin:"center center",transform:k?"rotateX(0deg)":"rotateX(180deg)"},children:[s.jsx("button",{onClick:em,disabled:!T||0>=parseFloat(T),className:`w-full p-4 text-center text-2xl bg-[#4A7C59] hover:bg-[#5A8C69] text-white absolute inset-0 [backface-visibility:hidden] [transform-style:preserve-3d] shadow-[0_0_20px_rgba(74,124,89,0.2)] disabled:bg-[#1F3529] disabled:text-[#4A7C59] disabled:cursor-not-allowed ${e}`,children:s.jsx("span",{className:e,children:!T||0>=parseFloat(T)?"Enter Amount":k?"MINT":"REDEEM"})}),s.jsx("button",{onClick:em,disabled:!T||0>=parseFloat(T),className:`w-full p-4 text-center text-2xl bg-[#4A7C59] hover:bg-[#5A8C69] text-white absolute inset-0 [transform:rotateX(180deg)] [backface-visibility:hidden] [transform-style:preserve-3d] disabled:bg-[#1F3529] disabled:text-[#4A7C59] disabled:cursor-not-allowed ${e}`,children:s.jsx("span",{className:e,children:!T||0>=parseFloat(T)?"Enter Amount":k?"MINT":"REDEEM"})})]}):s.jsx("button",{type:"submit",disabled:!0,className:`w-full p-4 text-center text-2xl bg-[#1F3529] text-[#4A7C59] cursor-not-allowed ${e}`,children:"Connect Wallet"})})]})})]})})})]})}),G&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:(0,s.jsxs)("div",{className:"bg-[#181818] p-8 rounded-lg shadow-lg w-full max-w-md",children:[s.jsx("h3",{className:"text-xl font-bold mb-4 text-[#F5F5F5]",children:"Confirm Mint Transaction"}),(0,s.jsxs)("div",{className:"space-y-2 text-[#F5F5F5] text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Collateral Used:"}),s.jsx("span",{})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Fee:"}),s.jsx("span",{})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Oracle Price:"}),s.jsx("span",{})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Pegged Minted:"}),s.jsx("span",{})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[s.jsx("button",{className:"px-4 py-2 bg-[#2A2A2A] text-[#F5F5F5] rounded hover:bg-[#333]",onClick:()=>S(!1),children:"Cancel"}),s.jsx("button",{className:"px-4 py-2 bg-[#4A7C59] text-white rounded hover:bg-[#5A8C69] font-bold",children:"Confirm"})]})]})})]})}):s.jsx("div",{className:"bg-[#1A1A1A] p-6 rounded-lg shadow-custom-dark",children:s.jsx("h2",{className:`text-2xl text-[#F5F5F5] mb-4 ${e}`,children:"Loading Form..."})})};var j=a(978),F=a.n(j);let w=[{inputs:[],name:"collateralTokenBalance",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"},{inputs:[],name:"peggedTokenBalance",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"},{inputs:[],name:"leveragedTokenBalance",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralRatio",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"},{inputs:[],name:"peggedTokenPrice",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"},{inputs:[],name:"leveragedTokenPrice",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"}],A=[{name:"latestAnswer",outputs:[{type:"int256"}],stateMutability:"view",type:"function",inputs:[]},{name:"decimals",outputs:[{type:"uint8"}],stateMutability:"view",type:"function",inputs:[]}];function k(e){if(!e)return console.log("[DEBUG] formatValue: value is undefined"),"-";console.log("[DEBUG] formatValue input:",e.toString());try{let t=(0,o.d)(e);console.log("[DEBUG] formatValue after formatEther:",t);let a=parseFloat(t);if(isNaN(a))return console.log("[DEBUG] formatValue: parsed number is NaN"),"-";let s=a.toFixed(4);return console.log("[DEBUG] formatValue final result:",s),s}catch(e){return console.error("[DEBUG] formatValue error:",e),"-"}}function C({type:e,marketId:t="steth-usd",collateralTokenBalance:a}){var n;let[r,o]=(0,l.useState)(!1);(0,l.useEffect)(()=>{o(!0)},[]),console.log("[DEBUG] Value component type:",e),console.log("[DEBUG] Value component collateralTokenBalance:",a),console.log("[DEBUG] Value component mounted:",r);let d=c.Uu[t].addresses,u="collateralValue"===e?"collateralTokenBalance":"collateralTokens"===e?"collateralTokenBalance":"peggedValue"===e?"peggedTokenBalance":"peggedTokens"===e?"peggedTokenBalance":"leveragedValue"===e?"leveragedTokenBalance":"leveragedTokens"===e?"leveragedTokenBalance":"collateralRatio";console.log("[DEBUG] Contract call details:",{type:e,functionName:u,address:d.minter,isPeggedOrLeveraged:e.includes("pegged")||e.includes("leveraged")});let{data:m,isError:p,error:x}=(0,i.useContractReads)({contracts:"collateralValue"===e?[{address:d.minter,abi:w,functionName:u},{address:d.priceOracle,abi:A,functionName:"latestAnswer"},{address:d.priceOracle,abi:A,functionName:"decimals"}]:[{address:d.minter,abi:w,functionName:u}],watch:!0,enabled:r,select:t=>(console.log("[DEBUG] Raw contract read result:",{type:e,functionName:u,data:t,result:t?.[0]?.result,status:t?.[0]?.status}),t)});if((0,l.useEffect)(()=>{r&&console.log("[DEBUG] Detailed contract state for",e,":",{hasData:!!m,dataResult:m?.[0]?.result,dataStatus:m?.[0]?.status,isError:p,errorDetails:x,minterAddress:d.minter})},[m,x,p,e,r,d.minter]),!r)return s.jsx(s.Fragment,{children:"-"});if("collateralTokens"===e&&void 0!==a){console.log("[DEBUG] Handling collateralTokens with balance:",a.toString());let e=k(a);return console.log("[DEBUG] Formatted collateral tokens value:",e),s.jsx(s.Fragment,{children:e})}if("collateralValue"===e){if(!m?.[0]?.result)return console.log("[DEBUG] No collateral value data:",{type:e,functionName:u,hasData:!!m,isError:p,errorDetails:x}),s.jsx(s.Fragment,{children:"-"});let t=m[0]?.result,a=m[1]?.result,n=m[2]?.result;if(!t||!a||void 0===n)return console.log("[DEBUG] Missing required values for collateral value:",{hasTokenBal:!!t,hasPriceRaw:!!a,hasPriceDecimals:void 0!==n}),s.jsx(s.Fragment,{children:"-"});let r=Number(a*BigInt(10**(18-n))*t/BigInt(1e18))/1e18,l=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:4,maximumFractionDigits:4}).format(r);return s.jsx(s.Fragment,{children:l})}if("peggedTokens"===e||"leveragedTokens"===e){if(!m?.[0]?.result)return console.log("[DEBUG] No token data:",{type:e,functionName:u,hasData:!!m,isError:p,errorDetails:x,rawData:m}),s.jsx(s.Fragment,{children:"-"});console.log("[DEBUG] Processing token data:",{type:e,rawResult:m[0].result.toString(),hasError:p,error:x});let t=k(m[0].result);return console.log("[DEBUG] Formatted token value:",t),s.jsx(s.Fragment,{children:t})}if("peggedValue"===e||"leveragedValue"===e)return m?.[0]?.result?s.jsx(s.Fragment,{children:(e=>{if(!e||!r)return"-";let t=Number(e)/1e18;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:4,maximumFractionDigits:4}).format(t)})(m[0].result)}):(console.log("[DEBUG] No value data:",{type:e,functionName:u,hasData:!!m,isError:p,errorDetails:x,rawData:m}),s.jsx(s.Fragment,{children:"-"}));if("collateralRatio"!==e)return m?.[0]?.result?s.jsx(s.Fragment,{children:k(m[0].result)}):s.jsx(s.Fragment,{children:"-"});return m?.[0]?.result?s.jsx(s.Fragment,{children:!(n=m[0].result)||!r||n>BigInt("1"+"0".repeat(30))?"-":(Number(n)/1e18*100).toFixed(4)+"%"}):s.jsx(s.Fragment,{children:"-"})}let T=Object.assign(function({marketId:e,collateralTokenBalance:t,geoClassName:a}){console.log("[DEBUG SystemHealth.tsx] received geoClassName:",a);let[n,r]=(0,l.useState)(!1);(0,l.useEffect)(()=>{r(!0)},[]);let i=c.Uu[e],o=i?.addresses.priceOracle,d=i?.name;return(console.log("[DEBUG] SystemHealth mounted:",n),console.log("[DEBUG] SystemHealth collateralTokenBalance:",t),console.log("[DEBUG] SystemHealth collateralTokenBalance type:",typeof t),n)?s.jsx("div",{className:"bg-neutral-800 p-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:[(0,s.jsxs)("div",{className:"bg-black p-3",children:[s.jsx("div",{className:"text-[#F5F5F5]/70 text-xs mb-1 text-center",children:"Total Collateral"}),s.jsx("div",{className:`text-2xl font-medium text-center ${a||""}`,children:s.jsx(C,{type:"collateralValue",marketId:e,collateralTokenBalance:t})}),(0,s.jsxs)("div",{className:"text-[#F5F5F5]/50 text-xs text-center",children:[s.jsx(C,{type:"collateralTokens",marketId:e,collateralTokenBalance:t})," ","wstETH"]})]}),(0,s.jsxs)("div",{className:"bg-black p-3",children:[s.jsx("div",{className:"text-[#F5F5F5]/70 text-xs mb-1 text-center",children:"Pegged Tokens"}),s.jsx("div",{className:`text-2xl font-medium text-center ${a||""}`,children:s.jsx(C,{type:"peggedValue",marketId:e,collateralTokenBalance:t})}),(0,s.jsxs)("div",{className:"text-[#F5F5F5]/50 text-xs text-center",children:[s.jsx(C,{type:"peggedTokens",marketId:e,collateralTokenBalance:t})," ","tokens"]})]}),(0,s.jsxs)("div",{className:"bg-black p-3",children:[s.jsx("div",{className:"text-[#F5F5F5]/70 text-xs mb-1 text-center",children:"Leveraged Tokens"}),s.jsx("div",{className:`text-2xl font-medium text-center ${a||""}`,children:s.jsx(C,{type:"leveragedValue",marketId:e,collateralTokenBalance:t})}),(0,s.jsxs)("div",{className:"text-[#F5F5F5]/50 text-xs text-center",children:[s.jsx(C,{type:"leveragedTokens",marketId:e,collateralTokenBalance:t})," ","tokens"]})]}),(0,s.jsxs)("div",{className:"bg-black p-3",children:[s.jsx("div",{className:"text-[#F5F5F5]/70 text-xs mb-1 text-center",children:"Collateral Ratio"}),s.jsx("div",{className:`text-2xl font-medium text-center ${a||""}`,children:s.jsx(C,{type:"collateralRatio",marketId:e})}),s.jsx("div",{className:"text-[#F5F5F5]/50 text-xs text-center",children:"Target: 150%"})]}),(0,s.jsxs)("div",{className:"bg-black p-3 flex flex-col items-center justify-center",children:[s.jsx("div",{className:"text-[#F5F5F5]/70 text-xs mb-1 text-center",children:"Price Oracle"}),s.jsx("div",{className:`text-2xl Price Oracle font-medium text-center ${a||""}`,children:"Chainlink"}),s.jsx("div",{className:"text-[#F5F5F5]/50 text-xs mt-0.5 text-center",children:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[d,o&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(o)},title:"Copy Oracle Address",className:"text-[#F5F5F5]/50 hover:text-[#F5F5F5]/70 transition-colors",children:s.jsx("svg",{className:"w-2.5 h-2.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),s.jsx("a",{href:`https://etherscan.io/address/${o}`,target:"_blank",rel:"noopener noreferrer",title:"View Oracle on Etherscan",className:"text-[#F5F5F5]/50 hover:text-[#F5F5F5]/70 transition-colors",children:s.jsx("svg",{className:"w-2.5 h-2.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]})})]})]})}):null},{Value:C}),E=e=>e?parseFloat(e).toString():"0",D=e=>{if(e?.status==="success"&&"bigint"==typeof e?.result)return e.result};Object.assign(T,{Value:({type:e,marketId:t,collateralTokenBalance:a,collateralAllowance:n,peggedAllowance:r,leveragedAllowance:l,totalCollateralValue:i,collateralRatio:c,peggedTokenData:d,leveragedTokenData:u,priceData:m,leveragedTokenPrice:p})=>s.jsx(s.Fragment,{children:(()=>{switch(e){case"collateralValue":return i||"0";case"collateralTokens":return E(a);case"collateralRatio":return c?`${c}%`:"0%";case"peggedValue":case"peggedTokens":{let t=d?.[0]&&D(d[0]);if(!t)return"0";let a=Number((0,o.d)(t));return console.log("Raw pegged balance:",t.toString()),console.log("Formatted pegged balance:",a),"peggedValue"===e?a.toFixed(2):a.toFixed(4)}case"leveragedValue":{let e=u?.[0]&&D(u[0]);if(!e||!p)return"0";return(Number(e)*Number(p)/1e36).toFixed(2)}case"leveragedTokens":{let t=u?.[0]&&D(u[0]);if(!t)return"0";if("leveragedTokens"===e){let e=Number((0,o.d)(t));return console.log("Raw leveraged balance:",t.toString()),console.log("Formatted leveraged balance:",e),e.toFixed(4)}let a=u?.[1]&&D(u[1]);if(!a||!m)return"0";return(Number((0,o.d)(t))*Number((0,o.d)(a))*Number((0,o.d)(m))/1e8).toFixed(2)}default:return"0"}})()})});let M={LONG:["zheUSD"]};function O(){let[e,t]=(0,l.useState)(!1),{address:a,isConnected:n}=(0,i.useAccount)(),{chain:o}=(0,i.useNetwork)(),[m,p]=(0,l.useState)("steth-usd"),[x,g]=(0,l.useState)(!1);(0,l.useEffect)(()=>t(!0),[]);let h=(0,l.useMemo)(()=>c.Uu[m],[m]);return M.LONG[0],console.log("[DEBUG page.tsx] geo.className:",r().className),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(F(),{children:[s.jsx("title",{children:"Zhenglong"}),s.jsx("meta",{name:"description",content:"Zhenglong App"}),s.jsx("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsxs)("div",{className:"fixed inset-0 pointer-events-none",children:[s.jsx("div",{className:"absolute top-[15%] left-[20%] w-[600px] h-[400px] bg-[#4A7C59]/[0.06]"}),s.jsx("div",{className:"absolute top-[25%] right-[15%] w-[500px] h-[450px] bg-[#4A7C59]/[0.05]"}),s.jsx("div",{className:"absolute top-[20%] left-[35%] w-[400px] h-[300px] bg-[#4A7C59]/[0.07]"}),s.jsx("div",{className:"absolute top-[22%] left-[10%] w-[300px] h-[250px] bg-[#4A7C59]/[0.04] animate-float-1"}),s.jsx("div",{className:"absolute top-[28%] right-[25%] w-[280px] h-[320px] bg-[#4A7C59]/[0.045] animate-float-2"}),s.jsx("div",{className:"absolute top-[35%] left-[40%] w-[350px] h-[280px] bg-[#4A7C59]/[0.055] animate-float-3"}),s.jsx("div",{className:"absolute top-[30%] left-[28%] w-[250px] h-[200px] bg-[#4A7C59]/[0.065] animate-float-4"}),s.jsx("div",{className:"absolute top-[25%] right-[30%] w-[220px] h-[180px] bg-[#4A7C59]/[0.05] animate-float-1"}),s.jsx("div",{className:"absolute top-[40%] left-[15%] w-[280px] h-[240px] bg-[#4A7C59]/[0.06] animate-float-2"}),s.jsx("div",{className:"absolute top-[20%] left-[45%] w-[120px] h-[120px] bg-[#4A7C59]/[0.075] animate-steam-1"}),s.jsx("div",{className:"absolute top-[35%] right-[40%] w-[150px] h-[150px] bg-[#4A7C59]/[0.07] animate-steam-2"}),s.jsx("div",{className:"absolute top-[30%] left-[25%] w-[100px] h-[100px] bg-[#4A7C59]/[0.08] animate-steam-3"}),s.jsx("div",{className:"absolute top-[25%] right-[20%] w-[80px] h-[80px] bg-[#4A7C59]/[0.065] animate-steam-1"}),s.jsx("div",{className:"absolute top-[45%] left-[30%] w-[90px] h-[90px] bg-[#4A7C59]/[0.075] animate-steam-2"}),s.jsx("div",{className:"absolute top-[38%] right-[35%] w-[110px] h-[110px] bg-[#4A7C59]/[0.07] animate-steam-3"})]}),s.jsx(u.Z,{}),(0,s.jsxs)("main",{className:"container mx-auto px-6 pt-28 pb-20 relative z-10",children:[(0,s.jsxs)("div",{className:"text-center mb-10",children:[s.jsx("h1",{className:`text-4xl text-[#4A7C59] ${r().className}`,children:"Mint & Redeem"}),s.jsx("p",{className:"text-[#F5F5F5]/60 text-sm mt-2",children:"Mint or redeem pegged and leverage tokens from any market"})]}),s.jsx("div",{className:"max-w-7xl mx-auto mb-8",children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-1"}),(0,s.jsxs)("div",{className:"flex items-center gap-4 w-[200px] justify-end relative",children:[s.jsx("label",{className:"text-[#F5F5F5]/70",children:"Market"}),s.jsx("button",{onClick:()=>{g(!0),setTimeout(()=>{g(!1)},2500)},className:"px-4 py-2 bg-[#202020] text-[#F5F5F5] border border-[#4A7C59]/30 hover:border-[#4A7C59] hover:bg-[#2A2A2A] outline-none transition-all text-left w-[120px]",children:h.name}),x&&s.jsx("div",{className:`absolute top-full right-0 mt-2 px-4 py-2 bg-[#4A7C59] text-white shadow-lg whitespace-nowrap z-50 ${r().className} animate-fade-out`,children:"New markets coming soon!"})]})]})}),s.jsx("div",{className:"mb-8",children:e&&h&&s.jsx(T,{marketId:m,geoClassName:r().className})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-stretch min-h-[700px]",children:[s.jsx("div",{className:"h-full",children:e&&h?s.jsx("div",{className:"bg-[#0A0A0A] p-0 shadow-custom-dark h-full",children:s.jsx(N,{geoClassName:r().className,currentMarket:h,isConnected:n,userAddress:a})}):s.jsx("div",{className:"bg-[#0A0A0A] p-6 shadow-custom-dark h-full",children:s.jsx("h2",{className:`text-2xl text-[#F5F5F5] mb-4 ${r().className}`,children:"Loading Form..."})})}),s.jsx("div",{className:"h-full",children:e&&h?s.jsx("div",{className:"bg-[#0A0A0A] p-6 shadow-custom-dark h-full flex flex-col",children:s.jsx("div",{className:"flex-1 min-h-0",children:s.jsx(d,{symbol:"BITSTAMP:ETHUSD",theme:"dark"})})}):s.jsx("div",{className:"bg-[#0A0A0A] p-6 shadow-custom-dark text-center h-full",children:"Loading Price Chart..."})})]})]})]})}},3724:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>r,__esModule:()=>n,default:()=>l});let s=(0,a(6843).createProxy)(String.raw`/Users/andrewyoung/Documents/BaoGit/Zhenglong/src/app/app/page.tsx`),{__esModule:n,$$typeof:r}=s,l=s.default},1371:(e,t,a)=>{"use strict";a.d(t,{f:()=>r});var s=a(5392),n=a(9977);function r(e,t="wei"){return(0,n.v)(e,s.ez[t])}}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[638,429,337,397,774],()=>a(3886));module.exports=s})();