(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[555],{6555:function(e,t,a){Promise.resolve().then(a.bind(a,8675))},8675:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var s=a(3827),n=a(5076),i=a.n(n),l=a(4090),o=a(3902),c=a(3910),r=a(5523),d=a(3170);let u=[{inputs:[],name:"token",outputs:[{type:"address",name:""}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"},{inputs:[{name:"addr",type:"address"}],name:"balanceOf",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"},{inputs:[{name:"addr",type:"address"}],name:"locked__end",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"},{inputs:[{name:"value",type:"uint256"},{name:"unlock_time",type:"uint256"}],name:"create_lock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"value",type:"uint256"}],name:"increase_amount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"unlock_time",type:"uint256"}],name:"increase_unlock_time",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],m=[{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool",name:""}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{type:"string",name:""}],stateMutability:"view",type:"function"}];function x(){var e,t,n,x,p,b;let{isConnected:h,address:f}=(0,o.useAccount)(),[v,w]=(0,l.useState)({amount:"",lockDuration:1,activeTab:"stake"}),[y,N]=(0,l.useState)(!1),{data:g}=(0,o.useContractReads)({contracts:[{address:"0xVotingEscrowAddress",abi:u,functionName:"totalSupply"},...f?[{address:"0xVotingEscrowAddress",abi:u,functionName:"balanceOf",args:[f]},{address:"0xVotingEscrowAddress",abi:u,functionName:"locked__end",args:[f]}]:[]],watch:!0}),j=e=>e?(Number(e)/1e18).toFixed(4):"0",A=async()=>{if(h&&v.amount&&f)try{N(!0);let e=(0,c.f)(v.amount),t=Math.floor(Date.now()/1e3)+604800*v.lockDuration,{writeAsync:s}=await Promise.resolve().then(a.bind(a,3902)).then(e=>e.useContractWrite({address:"0xTokenAddress",abi:m,functionName:"approve"}));await s({args:["0xVotingEscrowAddress",e]});let{writeAsync:n}=await Promise.resolve().then(a.bind(a,3902)).then(e=>e.useContractWrite({address:"0xVotingEscrowAddress",abi:u,functionName:"create_lock"}));await n({args:[e,BigInt(t)]}),w(e=>({...e,amount:""}))}catch(e){console.error("Error staking:",e)}finally{N(!1)}},k=async()=>{if(h&&v.amount&&f)try{N(!0);let e=(0,c.f)(v.amount),{writeAsync:t}=await Promise.resolve().then(a.bind(a,3902)).then(e=>e.useContractWrite({address:"0xVotingEscrowAddress",abi:u,functionName:"increase_amount"}));await t({args:[e]}),w(e=>({...e,amount:""}))}catch(e){console.error("Error increasing amount:",e)}finally{N(!1)}},C=async()=>{if(h&&f)try{N(!0);let e=Math.floor(Date.now()/1e3)+604800*v.lockDuration,{writeAsync:t}=await Promise.resolve().then(a.bind(a,3902)).then(e=>e.useContractWrite({address:"0xVotingEscrowAddress",abi:u,functionName:"increase_unlock_time"}));await t({args:[BigInt(e)]})}catch(e){console.error("Error extending lock:",e)}finally{N(!1)}},_=async()=>{if(h&&f)try{N(!0);let{writeAsync:e}=await Promise.resolve().then(a.bind(a,3902)).then(e=>e.useContractWrite({address:"0xVotingEscrowAddress",abi:u,functionName:"withdraw"}));await e()}catch(e){console.error("Error withdrawing:",e)}finally{N(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-[#1A1A1A] to-black text-[#F5F5F5] font-sans relative",children:[(0,s.jsxs)("div",{className:"fixed inset-0 pointer-events-none",children:[(0,s.jsx)("div",{className:"absolute top-[10%] left-[20%] w-[200px] h-[200px] bg-[#4A7C59]/[0.06]"}),(0,s.jsx)("div",{className:"absolute top-[15%] left-[35%] w-[180px] h-[180px] bg-[#4A7C59]/[0.05]"}),(0,s.jsx)("div",{className:"absolute top-[20%] left-[50%] w-[160px] h-[160px] bg-[#4A7C59]/[0.07]"}),(0,s.jsx)("div",{className:"absolute top-[30%] left-[15%] w-[150px] h-[150px] bg-[#4A7C59]/[0.04] animate-float-1"}),(0,s.jsx)("div",{className:"absolute top-[35%] left-[30%] w-[140px] h-[140px] bg-[#4A7C59]/[0.045] animate-float-2"}),(0,s.jsx)("div",{className:"absolute top-[40%] left-[45%] w-[130px] h-[130px] bg-[#4A7C59]/[0.055] animate-float-3"}),(0,s.jsx)("div",{className:"absolute top-[50%] left-[25%] w-[120px] h-[120px] bg-[#4A7C59]/[0.065] animate-float-4"}),(0,s.jsx)("div",{className:"absolute top-[55%] left-[40%] w-[110px] h-[110px] bg-[#4A7C59]/[0.05] animate-float-1"}),(0,s.jsx)("div",{className:"absolute top-[60%] left-[55%] w-[100px] h-[100px] bg-[#4A7C59]/[0.06] animate-float-2"}),(0,s.jsx)("div",{className:"absolute top-[70%] left-[20%] w-[80px] h-[80px] bg-[#4A7C59]/[0.075] animate-steam-1"}),(0,s.jsx)("div",{className:"absolute top-[75%] left-[35%] w-[70px] h-[70px] bg-[#4A7C59]/[0.07] animate-steam-2"}),(0,s.jsx)("div",{className:"absolute top-[80%] left-[50%] w-[60px] h-[60px] bg-[#4A7C59]/[0.08] animate-steam-3"}),(0,s.jsx)("div",{className:"absolute top-[85%] left-[65%] w-[50px] h-[50px] bg-[#4A7C59]/[0.065] animate-steam-1"}),(0,s.jsx)("div",{className:"absolute top-[90%] left-[80%] w-[40px] h-[40px] bg-[#4A7C59]/[0.075] animate-steam-2"}),(0,s.jsx)("div",{className:"absolute top-[95%] left-[95%] w-[30px] h-[30px] bg-[#4A7C59]/[0.07] animate-steam-3"})]}),(0,s.jsx)(d.Z,{}),(0,s.jsxs)("main",{className:"container mx-auto px-6 pt-32 pb-20 relative z-10",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h1",{className:"text-4xl text-[#4A7C59] ".concat(i().className),children:"Stake STEAM"}),(0,s.jsx)("p",{className:"text-[#F5F5F5]/60 text-sm mt-2",children:"Boost rewards, Share protocol revenue and vote on liquidity incentives"})]}),(0,s.jsx)("div",{className:"max-w-5xl mx-auto space-y-6",children:(0,s.jsxs)("div",{className:"bg-[#1A1A1A] p-6 relative",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"bg-black p-4 border border-[#4A7C59]/20",children:[(0,s.jsx)("p",{className:"text-xs text-[#F5F5F5]/50 mb-0.5",children:"Total Staked"}),(0,s.jsxs)("p",{className:"text-sm font-medium text-[#4A7C59]",children:[j(null==g?void 0:null===(e=g[0])||void 0===e?void 0:e.result)," STEAM"]})]}),f&&(0,s.jsxs)("div",{className:"bg-black p-4 border border-[#4A7C59]/20",children:[(0,s.jsx)("p",{className:"text-xs text-[#F5F5F5]/50 mb-0.5",children:"Your Voting Power"}),(0,s.jsxs)("p",{className:"text-sm font-medium text-[#4A7C59]",children:[j(null==g?void 0:null===(t=g[1])||void 0===t?void 0:t.result)," vSTEAM"]})]})]}),(0,s.jsxs)("div",{className:"flex space-x-4 mb-6",children:[(0,s.jsx)("button",{onClick:()=>w(e=>({...e,activeTab:"stake"})),className:"px-4 py-2 text-sm font-medium border border-[#4A7C59]/20 ".concat("stake"===v.activeTab?"bg-[#4A7C59] text-white":"bg-black text-[#4A7C59] hover:bg-[#4A7C59]/10"),children:"Stake"}),(0,s.jsx)("button",{onClick:()=>w(e=>({...e,activeTab:"increase"})),className:"px-4 py-2 text-sm font-medium border border-[#4A7C59]/20 ".concat("increase"===v.activeTab?"bg-[#4A7C59] text-white":"bg-black text-[#4A7C59] hover:bg-[#4A7C59]/10"),children:"Increase"}),(0,s.jsx)("button",{onClick:()=>w(e=>({...e,activeTab:"extend"})),className:"px-4 py-2 text-sm font-medium border border-[#4A7C59]/20 ".concat("extend"===v.activeTab?"bg-[#4A7C59] text-white":"bg-black text-[#4A7C59] hover:bg-[#4A7C59]/10"),children:"Extend"}),(0,s.jsx)("button",{onClick:()=>w(e=>({...e,activeTab:"withdraw"})),className:"px-4 py-2 text-sm font-medium border border-[#4A7C59]/20 ".concat("withdraw"===v.activeTab?"bg-[#4A7C59] text-white":"bg-black text-[#4A7C59] hover:bg-[#4A7C59]/10"),children:"Withdraw"})]}),h?(0,s.jsxs)("div",{className:"space-y-4",children:[("stake"===v.activeTab||"increase"===v.activeTab)&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("label",{className:"text-sm text-[#F5F5F5]/70",children:"Amount"}),(0,s.jsx)("span",{className:"text-sm text-[#F5F5F5]/50",children:"Balance: 0 STEAM"})]}),(0,s.jsx)("input",{type:"text",value:v.amount,onChange:e=>w(t=>({...t,amount:e.target.value})),placeholder:"Enter amount in STEAM",className:"w-full bg-black text-white p-3 border border-[#4A7C59]/20 focus:outline-none focus:border-[#4A7C59]"})]}),"stake"===v.activeTab&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm text-[#F5F5F5]/70",children:"Lock Duration (weeks)"}),(0,s.jsx)("input",{type:"range",min:"1",max:"208",value:v.lockDuration,onChange:e=>w(t=>({...t,lockDuration:parseInt(e.target.value)})),className:"w-full"}),(0,s.jsxs)("div",{className:"flex justify-between text-sm text-[#F5F5F5]/50",children:[(0,s.jsx)("span",{children:"1 week"}),(0,s.jsxs)("span",{children:[v.lockDuration," weeks"]}),(0,s.jsx)("span",{children:"4 years"})]})]}),(0,s.jsx)("button",{onClick:"stake"===v.activeTab?A:k,disabled:y||!v.amount,className:"w-full py-3 bg-[#4A7C59] text-white font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#4A7C59]/90",children:y?"Pending...":"stake"===v.activeTab?"Stake":"Increase"})]}),"extend"===v.activeTab&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm text-[#F5F5F5]/70",children:"New Lock Duration (weeks)"}),(0,s.jsx)("input",{type:"range",min:"1",max:"208",value:v.lockDuration,onChange:e=>w(t=>({...t,lockDuration:parseInt(e.target.value)})),className:"w-full"}),(0,s.jsxs)("div",{className:"flex justify-between text-sm text-[#F5F5F5]/50",children:[(0,s.jsx)("span",{children:"1 week"}),(0,s.jsxs)("span",{children:[v.lockDuration," weeks"]}),(0,s.jsx)("span",{children:"4 years"})]})]}),(0,s.jsx)("button",{onClick:C,disabled:y,className:"w-full py-3 bg-[#4A7C59] text-white font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#4A7C59]/90",children:y?"Pending...":"Extend Lock"})]}),"withdraw"===v.activeTab&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-black p-4 border border-[#4A7C59]/20",children:[(0,s.jsx)("p",{className:"text-sm text-[#F5F5F5]/50 mb-1",children:"Lock End Time"}),(0,s.jsx)("p",{className:"text-lg font-medium text-[#4A7C59]",children:new Date(1e3*Number(null!==(b=null==g?void 0:null===(n=g[2])||void 0===n?void 0:n.result)&&void 0!==b?b:0)).toLocaleString()})]}),(0,s.jsx)("button",{onClick:_,disabled:y||(null==g?void 0:null===(x=g[2])||void 0===x?void 0:x.result)!==void 0&&Number(g[2].result)>Date.now()/1e3,className:"w-full py-3 bg-[#4A7C59] text-white font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#4A7C59]/90",children:y?"Pending...":(null==g?void 0:null===(p=g[2])||void 0===p?void 0:p.result)!==void 0&&Number(g[2].result)>Date.now()/1e3?"Lock Not Expired":"Withdraw"})]})]}):(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)(r.Z,{})})]})})]})]})}},5523:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var s=a(3827),n=a(5903),i=a.n(n),l=a(3902),o=a(4090);function c(){let{address:e,isConnected:t}=(0,l.useAccount)(),{connect:a,connectors:n,error:c,isLoading:r,pendingConnector:d}=(0,l.useConnect)(),[u,m]=(0,o.useState)(!1);(0,o.useEffect)(()=>{m(!0)},[]);let x=async()=>{let e=n[0];if(e)try{await a({connector:e})}catch(e){console.error("Failed to connect:",e)}else console.error("No injected connector found")};return u?(0,s.jsx)("button",{onClick:x,disabled:r,className:"".concat(r?"bg-[#3A6147] cursor-wait":"bg-[#4A7C59] hover:bg-[#3A6147]"," px-6 py-2 text-white text-lg tracking-wider transition-all uppercase ").concat(i().className),children:r?"Connecting to ".concat((null==d?void 0:d.name)||"wallet","..."):t?"".concat(e.slice(0,6),"...").concat(e.slice(-4)):"Connect Wallet"}):(0,s.jsx)("button",{className:"bg-[#4A7C59] hover:bg-[#3A6147] px-6 py-2 text-white text-lg tracking-wider transition-all uppercase ".concat(i().className),children:"Connect Wallet"})}},3170:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(3827),n=a(4967),i=a.n(n),l=a(8792),o=a(703),c=a(5523);function r(){return(0,s.jsx)("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-[#1A1A1A]/90 backdrop-blur-sm border-b border-[#4A7C59]/20",children:(0,s.jsx)("div",{className:"container mx-auto px-6",children:(0,s.jsxs)("div",{className:"flex items-center h-20",children:[(0,s.jsxs)(l.default,{href:"/",className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-20 h-18 flex items-center justify-center",children:(0,s.jsx)(o.default,{src:"/logo.svg",alt:"Zhenglong Protocol",width:80,height:70,className:"w-full h-full"})}),(0,s.jsx)("span",{className:"text-3xl tracking-wider text-[#4A7C59] ".concat(i().className),children:"zhenglong"})]}),(0,s.jsx)("div",{className:"flex-1 flex justify-center",children:(0,s.jsxs)("div",{className:"flex items-center gap-12",children:[(0,s.jsx)(l.default,{href:"/app",className:"text-xl text-white hover:text-white/80 transition-colors ".concat(i().className),children:"Mint/Redeem"}),(0,s.jsx)(l.default,{href:"/earn",className:"text-xl text-white hover:text-white/80 transition-colors ".concat(i().className),children:"Earn"}),(0,s.jsx)(l.default,{href:"/vote",className:"text-xl text-white hover:text-white/80 transition-colors ".concat(i().className),children:"Vote"}),(0,s.jsx)(l.default,{href:"/genesis",className:"text-xl text-white hover:text-white/80 transition-colors ".concat(i().className),children:"Genesis"}),(0,s.jsx)(l.default,{href:"/staking",className:"text-xl text-white hover:text-white/80 transition-colors ".concat(i().className),children:"Staking"})]})}),(0,s.jsx)(c.Z,{})]})})})}},5076:function(e){e.exports={style:{fontFamily:"'__Geo_ea146f', '__Geo_Fallback_ea146f'",fontWeight:400,fontStyle:"normal"},className:"__className_ea146f"}},5903:function(e){e.exports={style:{fontFamily:"'__Geo_ea146f', '__Geo_Fallback_ea146f'",fontWeight:400,fontStyle:"normal"},className:"__className_ea146f"}},4967:function(e){e.exports={style:{fontFamily:"'__Geo_ea146f', '__Geo_Fallback_ea146f'",fontWeight:400,fontStyle:"normal"},className:"__className_ea146f"}},3910:function(e,t,a){"use strict";a.d(t,{f:function(){return i}});var s=a(4817),n=a(73);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wei";return(0,n.v)(e,s.ez[t])}}},function(e){e.O(0,[902,607,971,69,744],function(){return e(e.s=6555)}),_N_E=e.O()}]);