(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[50],{5582:function(e,t,a){Promise.resolve().then(a.bind(a,6217))},6217:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var l=a(3827),s=a(5153),i=a.n(s),o=a(4090),n=a(3902),d=a(3910),r=a(2829),c=a(3170);let u=[{inputs:[],name:"minter",outputs:[{type:"address",name:""}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidatableCollateralRatio",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidationToken",outputs:[{type:"address",name:""}],stateMutability:"view",type:"function"},{inputs:[],name:"assetToken",outputs:[{type:"address",name:""}],stateMutability:"view",type:"function"},{inputs:[],name:"totalAssetSupply",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"assetBalanceOf",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getBoostRatio",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"},{inputs:[{name:"index",type:"uint256"}],name:"totalSupplyHistory",outputs:[{name:"atDay",type:"uint40"},{name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lastAssetLossError",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"getStakerVoteOwner",outputs:[{type:"address",name:""}],stateMutability:"view",type:"function"},{inputs:[{name:"amount",type:"uint256"},{name:"receiver",type:"address"},{name:"minAmount",type:"uint256"}],name:"deposit",outputs:[{type:"uint256",name:"amountDeposited"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"amount",type:"uint256"},{name:"receiver",type:"address"}],name:"withdraw",outputs:[{type:"uint256",name:"amountWithdrawn"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"minPeggedAmount",type:"uint256"}],name:"liquidate",outputs:[{type:"uint256",name:"liquidated"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"staker",type:"address"}],name:"toggleVoteSharing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"newOwner",type:"address"}],name:"acceptSharedVote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rejectSharedVote",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"owner",type:"address"},{name:"amount",type:"uint256"},{name:"receiver",type:"address"}],name:"withdrawFrom",outputs:[{type:"uint256",name:"amountWithdrawn"}],stateMutability:"nonpayable",type:"function"}],m=[{inputs:[{name:"account",type:"address"}],name:"getClaimableRewards",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"},{inputs:[],name:"claimRewards",outputs:[],stateMutability:"nonpayable",type:"function"}],p=[{inputs:[{name:"account",type:"address"}],name:"getAPRBreakdown",outputs:[{name:"collateralTokenAPR",type:"uint256"},{name:"steamTokenAPR",type:"uint256"}],stateMutability:"view",type:"function"}],x=[{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool",name:""}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{type:"string",name:""}],stateMutability:"view",type:"function"}],v=[{inputs:[],name:"leverageRatio",outputs:[{type:"uint256",name:""}],stateMutability:"view",type:"function"},{inputs:[],name:"mintPeggedTokenIncentiveRatio",outputs:[{type:"int256",name:""}],stateMutability:"view",type:"function"}];function b(){let{isConnected:e,address:t}=(0,n.useAccount)(),[a,s]=(0,o.useState)(r.Uu["steth-usd"].id),[b,f]=(0,o.useState)({}),[h,g]=(0,o.useState)(null),[y,w]=(0,o.useState)(!1),N="steth-usd",C=function(e){let t=r.Uu[e];if(!t)throw Error("Market ".concat(e," not found"));let a=t.addresses.stabilityPoolCollateral,l=(0,n.useContractWrite)({address:a,abi:u,functionName:"deposit"}),s=(0,n.useContractWrite)({address:a,abi:u,functionName:"withdraw"}),i=(0,n.useContractWrite)({address:a,abi:m,functionName:"claimRewards"});return{collateral:{deposit:l,withdraw:s,claim:i},leveraged:{deposit:(0,n.useContractWrite)({address:a,abi:u,functionName:"deposit"}),withdraw:(0,n.useContractWrite)({address:a,abi:u,functionName:"withdraw"}),claim:(0,n.useContractWrite)({address:a,abi:m,functionName:"claimRewards"})}}}(N),k=(0,o.useMemo)(()=>({[N]:C}),[N,C]),j=Object.entries(r.Uu).reduce((e,t)=>{let[a,l]=t,s=l.addresses.peggedToken;return e[s]||(e[s]=[]),e[s].push({marketId:a,...l}),e},{});(0,o.useEffect)(()=>{let e={};Object.keys(r.Uu).forEach(t=>{e[t]={collateral:{depositAmount:"",withdrawAmount:"",activeTab:"deposit",isExpanded:!1},leveraged:{depositAmount:"",withdrawAmount:"",activeTab:"deposit",isExpanded:!1}}}),f(e)},[]);let{data:A}=(0,n.useContractReads)({contracts:Object.entries(r.Uu).flatMap(e=>{let[a,l]=e;return[{address:r.Uu[a].addresses.stabilityPoolCollateral,abi:u,functionName:"totalAssetSupply"},{address:r.Uu[a].addresses.stabilityPoolCollateral,abi:u,functionName:"liquidatableCollateralRatio"},{address:r.Uu[a].addresses.stabilityPoolCollateral,abi:u,functionName:"assetBalanceOf",args:[null!=t?t:"0x0"]},{address:r.Uu[a].addresses.stabilityPoolCollateral,abi:u,functionName:"getBoostRatio",args:[null!=t?t:"0x0"]},{address:r.Uu[a].addresses.stabilityPoolCollateral,abi:u,functionName:"totalAssetSupply"},{address:r.Uu[a].addresses.stabilityPoolCollateral,abi:u,functionName:"liquidatableCollateralRatio"},{address:r.Uu[a].addresses.stabilityPoolCollateral,abi:u,functionName:"assetBalanceOf",args:[null!=t?t:"0x0"]},{address:r.Uu[a].addresses.stabilityPoolCollateral,abi:u,functionName:"getBoostRatio",args:[null!=t?t:"0x0"]}]}),watch:!0}),{data:F}=(0,n.useContractReads)({contracts:Object.entries(r.Uu).flatMap(e=>{let[a,l]=e;return[{address:l.addresses.collateralToken,abi:x,functionName:"allowance",args:[null!=t?t:"0x0",r.Uu[a].addresses.stabilityPoolCollateral]},{address:l.addresses.collateralToken,abi:x,functionName:"allowance",args:[null!=t?t:"0x0",r.Uu[a].addresses.stabilityPoolCollateral]}]}),watch:!0}),{data:I}=(0,n.useContractReads)({contracts:Object.entries(r.Uu).flatMap(e=>{let[a,l]=e;return[{address:r.Uu[a].addresses.stabilityPoolCollateral,abi:m,functionName:"getClaimableRewards",args:[null!=t?t:"0x0"]},{address:r.Uu[a].addresses.stabilityPoolCollateral,abi:m,functionName:"getClaimableRewards",args:[null!=t?t:"0x0"]}]}),watch:!0}),{data:T}=(0,n.useContractReads)({contracts:Object.entries(r.Uu).flatMap(e=>{let[a,l]=e;return[{address:r.Uu[a].addresses.stabilityPoolCollateral,abi:p,functionName:"getAPRBreakdown",args:[null!=t?t:"0x0"]},{address:r.Uu[a].addresses.stabilityPoolCollateral,abi:p,functionName:"getAPRBreakdown",args:[null!=t?t:"0x0"]}]}),watch:!0}),{data:R}=(0,n.useContractReads)({contracts:Object.entries(r.Uu).flatMap(e=>{let[a,l]=e;return[{address:l.addresses.peggedToken,abi:x,functionName:"balanceOf",args:[null!=t?t:"0x0"]}]}),watch:!0}),E=e=>e?(Number(e)/1e18).toFixed(4):"0.00",P=e=>e?(Number(e)/1e18*100).toFixed(2)+"%":"0%",M=e=>e?{collateral:(Number(e.collateralTokenAPR)/1e18*100).toFixed(2)+"%",steam:(Number(e.steamTokenAPR)/1e18*100).toFixed(2)+"%"}:{collateral:"0%",steam:"0%"},_=e=>e?"".concat((Number(e)/1e18).toFixed(2),"%"):"-",U=e=>e?"".concat((Number(e)/1e18).toFixed(2),"%"):"-",{data:B}=(0,n.useContractReads)({contracts:[{address:r.Uu[a].addresses.minter,abi:v,functionName:"mintPeggedTokenIncentiveRatio"}],watch:!0}),{data:D}=(0,n.useContractReads)({contracts:[{address:r.Uu[a].addresses.peggedToken,abi:x,functionName:"balanceOf",args:[null!=t?t:"0x0"]}],enabled:!!t,watch:!0}),{data:S}=(0,n.useContractReads)({contracts:[{address:r.Uu[a].addresses.collateralToken,abi:x,functionName:"balanceOf",args:[null!=t?t:"0x0"]}],enabled:!!t,watch:!0}),{data:O}=(0,n.useContractReads)({contracts:[{address:r.Uu[a].addresses.minter,abi:v,functionName:"leverageRatio"}],watch:!0}),W=async(a,l)=>{if(e&&t)try{var s;g(null),w(!0);let e=(0,d.f)(b[a][l].depositAmount||"0"),i=k[a][l].deposit;await (null===(s=i.writeAsync)||void 0===s?void 0:s.call(i,{args:[e,t,e]})),f(e=>({...e,[a]:{...e[a],depositAmount:""}}))}catch(e){console.error("Deposit failed:",e),g(e.message||"Deposit failed")}finally{w(!1)}},z=async(a,l)=>{if(e&&t)try{var s;g(null),w(!0);let e=(0,d.f)(b[a][l].withdrawAmount||"0"),i=k[a][l].withdraw;await (null===(s=i.writeAsync)||void 0===s?void 0:s.call(i,{args:[e,t]})),f(e=>({...e,[a]:{...e[a],withdrawAmount:""}}))}catch(e){console.error("Withdraw failed:",e),g(e.message||"Withdraw failed")}finally{w(!1)}},L=async(a,l)=>{if(e&&t)try{var s;g(null),w(!0);let e=k[a][l].claim;await (null===(s=e.writeAsync)||void 0===s?void 0:s.call(e))}catch(e){console.error("Claim rewards failed:",e),g(e.message||"Claim rewards failed")}finally{w(!1)}},q=(e,t)=>{var a,l,s;Object.keys(r.Uu).indexOf(e),null===(l=b[e])||void 0===l||null===(a=l[t])||void 0===a||a.activeTab;let i=null==R?void 0:null===(s=R[0])||void 0===s?void 0:s.result;if(i){let a=E(i);"collateral"===t?f(t=>({...t,[e]:{...t[e],collateral:{...t[e].collateral,depositAmount:a}}})):f(t=>({...t,[e]:{...t[e],leveraged:{...t[e].leveraged,depositAmount:a}}}))}},G=(e,t)=>{var a,l,s;Object.keys(r.Uu).indexOf(e),null===(l=b[e])||void 0===l||null===(a=l[t])||void 0===a||a.activeTab;let i=null==R?void 0:null===(s=R[0])||void 0===s?void 0:s.result;if(i){let a=E(i);"collateral"===t?f(t=>({...t,[e]:{...t[e],collateral:{...t[e].collateral,withdrawAmount:a}}})):f(t=>({...t,[e]:{...t[e],leveraged:{...t[e].leveraged,withdrawAmount:a}}}))}};return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-[#1A1A1A] to-black text-[#F5F5F5] font-sans relative",children:[(0,l.jsxs)("div",{className:"fixed inset-0 pointer-events-none",children:[(0,l.jsx)("div",{className:"absolute top-[10%] left-[20%] w-[200px] h-[200px] bg-[#4A7C59]/[0.06]"}),(0,l.jsx)("div",{className:"absolute top-[15%] left-[35%] w-[180px] h-[180px] bg-[#4A7C59]/[0.05]"}),(0,l.jsx)("div",{className:"absolute top-[20%] left-[50%] w-[160px] h-[160px] bg-[#4A7C59]/[0.07]"}),(0,l.jsx)("div",{className:"absolute top-[30%] left-[15%] w-[150px] h-[150px] bg-[#4A7C59]/[0.04] animate-float-1"}),(0,l.jsx)("div",{className:"absolute top-[35%] left-[30%] w-[140px] h-[140px] bg-[#4A7C59]/[0.045] animate-float-2"}),(0,l.jsx)("div",{className:"absolute top-[40%] left-[45%] w-[130px] h-[130px] bg-[#4A7C59]/[0.055] animate-float-3"}),(0,l.jsx)("div",{className:"absolute top-[50%] left-[25%] w-[120px] h-[120px] bg-[#4A7C59]/[0.065] animate-float-4"}),(0,l.jsx)("div",{className:"absolute top-[55%] left-[40%] w-[110px] h-[110px] bg-[#4A7C59]/[0.05] animate-float-1"}),(0,l.jsx)("div",{className:"absolute top-[60%] left-[55%] w-[100px] h-[100px] bg-[#4A7C59]/[0.06] animate-float-2"}),(0,l.jsx)("div",{className:"absolute top-[70%] left-[20%] w-[80px] h-[80px] bg-[#4A7C59]/[0.075] animate-steam-1"}),(0,l.jsx)("div",{className:"absolute top-[75%] left-[35%] w-[70px] h-[70px] bg-[#4A7C59]/[0.07] animate-steam-2"}),(0,l.jsx)("div",{className:"absolute top-[80%] left-[50%] w-[60px] h-[60px] bg-[#4A7C59]/[0.08] animate-steam-3"}),(0,l.jsx)("div",{className:"absolute top-[85%] left-[65%] w-[50px] h-[50px] bg-[#4A7C59]/[0.065] animate-steam-1"}),(0,l.jsx)("div",{className:"absolute top-[90%] left-[80%] w-[40px] h-[40px] bg-[#4A7C59]/[0.075] animate-steam-2"}),(0,l.jsx)("div",{className:"absolute top-[95%] left-[95%] w-[30px] h-[30px] bg-[#4A7C59]/[0.07] animate-steam-3"})]}),(0,l.jsx)(c.Z,{}),(0,l.jsxs)("main",{className:"container mx-auto px-6 pt-32 pb-20 relative z-10",children:[(0,l.jsxs)("div",{className:"text-center mb-12",children:[(0,l.jsx)("h1",{className:"text-4xl text-[#4A7C59] ".concat(i().className),children:"EARN"}),(0,l.jsx)("p",{className:"text-[#F5F5F5]/60 text-sm mt-2",children:"Deposit into stability or liquidity pools to earn STEAM and other rewards. Boost rewards by staking STEAM."})]}),(0,l.jsx)("div",{className:"space-y-12",children:Object.entries(j).map(t=>{let[a,s]=t;return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"flex flex-col mb-6",children:(0,l.jsxs)("h2",{className:"text-2xl text-[#4A7C59] ".concat(i().className),children:["Stake ",s[0].genesis.rewards.pegged.symbol]})}),(0,l.jsxs)("div",{className:"bg-[#1A1A1A] p-6 relative z-20",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-[#1A1A1A] z-10"}),(0,l.jsxs)("div",{className:"relative z-20",children:[(0,l.jsxs)("div",{className:"grid grid-cols-6 gap-4 px-6 text-[#F5F5F5]/70 mb-4",children:[(0,l.jsx)("div",{className:"col-span-2 ".concat(i().className," text-lg"),children:"Pool"}),(0,l.jsxs)("div",{className:"col-span-4 grid grid-cols-5 gap-2",children:[(0,l.jsx)("div",{className:"".concat(i().className," text-lg"),children:"TVL"}),(0,l.jsx)("div",{className:"".concat(i().className," text-lg"),children:"APR Range"}),(0,l.jsx)("div",{className:"".concat(i().className," text-lg"),children:"Deposit"}),(0,l.jsx)("div",{className:"".concat(i().className," text-lg"),children:"Earned"}),(0,l.jsx)("div",{className:"".concat(i().className," text-lg"),children:"Current Ratio"})]})]}),(0,l.jsx)("div",{className:"space-y-2",children:s.map(t=>{var a,o,n,d,r,c,u,m,p,x,v,g,y,w,N,C,k,j,F,Z,H,V,$,X,J,K,Q,Y,ee,et,ea,el,es,ei,eo,en,ed,er,ec,eu,em,ep,ex,ev,eb,ef,eh,eg,ey;let ew=Object.keys(s).indexOf(t.marketId),eN=8*ew,eC=null==T?void 0:null===(a=T[2*ew])||void 0===a?void 0:a.result,{collateral:ek,steam:ej}=M(eC?{collateralTokenAPR:eC[0],steamTokenAPR:eC[1]}:void 0);return(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{onClick:()=>{f(e=>({...e,[t.marketId]:{...e[t.marketId],collateral:{...e[t.marketId].collateral,isExpanded:!e[t.marketId].collateral.isExpanded}}}))},className:"bg-black p-4 relative z-20 cursor-pointer hover:bg-[#111111] transition-colors",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-black z-10"}),(0,l.jsx)("div",{className:"relative z-20",children:(0,l.jsxs)("div",{className:"grid grid-cols-6 gap-4 items-start",children:[(0,l.jsxs)("div",{className:"col-span-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("div",{className:"text-xl text-[#4A7C59] ".concat(i().className),children:[t.genesis.rewards.pegged.symbol," ","Stability Pool"]}),(0,l.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",className:"w-4 h-4 transition-transform duration-300 ".concat((null===(o=b[t.marketId])||void 0===o?void 0:o.collateral.isExpanded)?"rotate-180":""),children:(0,l.jsx)("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),(0,l.jsx)("div",{className:"text-[11px] text-[#F5F5F5]/60",children:"Swaps for wstETH during stability mode"})]}),(0,l.jsxs)("div",{className:"col-span-4 grid grid-cols-5 gap-2 items-center",children:[(0,l.jsxs)("div",{className:"text-base",children:["$",E(null==A?void 0:null===(n=A[eN])||void 0===n?void 0:n.result)]}),(0,l.jsx)("div",{className:"text-base",children:_(null==B?void 0:null===(d=B[eN])||void 0===d?void 0:d.result)}),(0,l.jsxs)("div",{className:"text-base",children:["$",E(null==D?void 0:null===(r=D[eN])||void 0===r?void 0:r.result)]}),(0,l.jsxs)("div",{className:"text-base",children:["$",E(null==S?void 0:null===(c=S[eN])||void 0===c?void 0:c.result)]}),(0,l.jsx)("div",{className:"text-base",children:U(null==O?void 0:null===(u=O[eN])||void 0===u?void 0:u.result)})]})]})}),(0,l.jsx)("div",{className:"overflow-hidden transition-[max-height,opacity] duration-300 ease-in-out relative z-30 ".concat((null===(m=b[t.marketId])||void 0===m?void 0:m.collateral.isExpanded)?"max-h-[800px] opacity-100 mt-6":"max-h-0 opacity-0"),children:(null===(p=b[t.marketId])||void 0===p?void 0:p.collateral.isExpanded)&&(0,l.jsxs)("div",{className:"p-6 bg-[#111111]",children:[(0,l.jsxs)("div",{className:"flex border-b border-[#4A7C59]/20",children:[(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),f(e=>({...e,[t.marketId]:{...e[t.marketId],collateral:{...e[t.marketId].collateral,activeTab:"deposit"}}}))},className:"px-6 py-3 text-sm font-medium relative ".concat((null===(x=b[t.marketId])||void 0===x?void 0:x.collateral.activeTab)==="deposit"?"text-[#4A7C59] after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-[#4A7C59]":"text-[#F5F5F5]/50 hover:text-[#F5F5F5]"),children:"Deposit"}),(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),f(e=>({...e,[t.marketId]:{...e[t.marketId],collateral:{...e[t.marketId].collateral,activeTab:"withdraw"}}}))},className:"px-6 py-3 text-sm font-medium relative ".concat((null===(v=b[t.marketId])||void 0===v?void 0:v.collateral.activeTab)==="withdraw"?"text-[#4A7C59] after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-[#4A7C59]":"text-[#F5F5F5]/50 hover:text-[#F5F5F5]"),children:"Withdraw"}),(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),f(e=>({...e,[t.marketId]:{...e[t.marketId],collateral:{...e[t.marketId].collateral,activeTab:"rewards"}}}))},className:"px-6 py-3 text-sm font-medium relative ".concat((null===(g=b[t.marketId])||void 0===g?void 0:g.collateral.activeTab)==="rewards"?"text-[#4A7C59] after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-[#4A7C59]":"text-[#F5F5F5]/50 hover:text-[#F5F5F5]"),children:"Rewards"})]}),(0,l.jsxs)("div",{className:"mt-6 p-4 bg-black",onClick:e=>e.stopPropagation(),children:[(null===(y=b[t.marketId])||void 0===y?void 0:y.collateral.activeTab)==="deposit"&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsx)("p",{className:"text-sm text-[#F5F5F5]/50",children:"Wallet Balance"}),(0,l.jsxs)("p",{className:"text-sm text-[#F5F5F5]",children:[E(null==R?void 0:null===(w=R[ew])||void 0===w?void 0:w.result)," ",t.genesis.rewards.pegged.symbol]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("input",{type:"text",value:null===(N=b[t.marketId])||void 0===N?void 0:N.collateral.depositAmount,onChange:e=>f(a=>({...a,[t.marketId]:{...a[t.marketId],collateral:{...a[t.marketId].collateral,depositAmount:e.target.value}}})),placeholder:"0.0",className:"flex-1 bg-black text-white p-3 border ".concat((null==h?void 0:h.poolId)===t.marketId&&(null==h?void 0:h.poolType)==="collateral"&&(null==h?void 0:null===(C=h.type)||void 0===C?void 0:C.includes("Deposit"))?"border-red-500":"border-[#4A7C59]/20 focus:border-[#4A7C59]"," focus:outline-none")}),(0,l.jsx)("button",{onClick:()=>q(t.marketId,"collateral"),className:"px-4 py-2 text-sm bg-[#4A7C59]/10 text-[#4A7C59] hover:bg-[#4A7C59]/20 border border-[#4A7C59]/20",children:"MAX"})]}),(null==h?void 0:h.poolId)===t.marketId&&(null==h?void 0:h.poolType)==="collateral"&&(null==h?void 0:null===(k=h.type)||void 0===k?void 0:k.includes("Deposit"))&&(0,l.jsx)("p",{className:"text-sm text-red-500",children:h.message}),(0,l.jsx)("button",{onClick:()=>W(t.marketId,"collateral"),disabled:!e||!(null===(j=b[t.marketId])||void 0===j?void 0:j.collateral.depositAmount),className:"w-full py-3 bg-[#4A7C59] text-white font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#4A7C59]/90",children:"Deposit"})]}),(null===(F=b[t.marketId])||void 0===F?void 0:F.collateral.activeTab)==="withdraw"&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("input",{type:"text",value:null===(Z=b[t.marketId])||void 0===Z?void 0:Z.collateral.withdrawAmount,onChange:e=>f(a=>({...a,[t.marketId]:{...a[t.marketId],collateral:{...a[t.marketId].collateral,withdrawAmount:e.target.value}}})),placeholder:"0.0",className:"flex-1 bg-black text-white p-3 border ".concat((null==h?void 0:h.poolId)===t.marketId&&(null==h?void 0:h.poolType)==="collateral"&&(null==h?void 0:null===(H=h.type)||void 0===H?void 0:H.includes("Withdraw"))?"border-red-500":"border-[#4A7C59]/20 focus:border-[#4A7C59]"," focus:outline-none")}),(0,l.jsx)("button",{onClick:()=>G(t.marketId,"collateral"),className:"px-4 py-2 text-sm bg-[#4A7C59]/10 text-[#4A7C59] hover:bg-[#4A7C59]/20 border border-[#4A7C59]/20",children:"MAX"})]}),(null==h?void 0:h.poolId)===t.marketId&&(null==h?void 0:h.poolType)==="collateral"&&(null==h?void 0:null===(V=h.type)||void 0===V?void 0:V.includes("Withdraw"))&&(0,l.jsx)("p",{className:"text-sm text-red-500",children:h.message}),(0,l.jsx)("button",{onClick:()=>z(t.marketId,"collateral"),disabled:!e||!(null===($=b[t.marketId])||void 0===$?void 0:$.collateral.withdrawAmount),className:"w-full py-3 bg-[#4A7C59] text-white font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#4A7C59]/90",children:"Withdraw"})]}),(null===(X=b[t.marketId])||void 0===X?void 0:X.collateral.activeTab)==="rewards"&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-[#F5F5F5]/50 mb-1",children:"Claimable Rewards"}),(0,l.jsx)("p",{className:"text-lg font-medium text-[#4A7C59]",children:E(null==I?void 0:null===(J=I[2*ew])||void 0===J?void 0:J.result)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-[#F5F5F5]/50 mb-1",children:"Boost Ratio"}),(0,l.jsx)("p",{className:"text-lg font-medium text-[#4A7C59]",children:P(null==A?void 0:null===(K=A[4*ew+3])||void 0===K?void 0:K.result)})]})]}),(null==h?void 0:h.poolId)===t.marketId&&(null==h?void 0:h.poolType)==="collateral"&&(null==h?void 0:null===(Q=h.type)||void 0===Q?void 0:Q.includes("Reward"))&&(0,l.jsx)("p",{className:"text-sm text-red-500",children:h.message}),(0,l.jsx)("button",{onClick:()=>L(t.marketId,"collateral"),disabled:!e||!(null==I?void 0:null===(Y=I[2*ew])||void 0===Y?void 0:Y.result),className:"w-full py-3 bg-[#4A7C59] text-white font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#4A7C59]/90",children:(null==h?void 0:h.poolId)===t.marketId&&(null==h?void 0:h.poolType)==="collateral"&&(null==h?void 0:null===(ee=h.type)||void 0===ee?void 0:ee.includes("Reward"))?"Failed to Claim":"Claim Rewards"})]})]})]})})]}),(0,l.jsxs)("div",{onClick:()=>{f(e=>({...e,[t.marketId]:{...e[t.marketId],leveraged:{...e[t.marketId].leveraged,isExpanded:!e[t.marketId].leveraged.isExpanded}}}))},className:"bg-black p-4 relative z-20 cursor-pointer hover:bg-[#111111] transition-colors",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-black z-10"}),(0,l.jsx)("div",{className:"relative z-20",children:(0,l.jsxs)("div",{className:"grid grid-cols-6 gap-4 items-start",children:[(0,l.jsxs)("div",{className:"col-span-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("div",{className:"text-xl text-[#4A7C59] ".concat(i().className),children:[t.genesis.rewards.leveraged.symbol," ","Leveraged Pool"]}),(0,l.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",className:"w-4 h-4 transition-transform duration-300 ".concat((null===(et=b[t.marketId])||void 0===et?void 0:et.leveraged.isExpanded)?"rotate-180":""),children:(0,l.jsx)("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),(0,l.jsx)("div",{className:"text-[11px] text-[#F5F5F5]/60",children:"Swaps for steamedstETH during stability mode"})]}),(0,l.jsxs)("div",{className:"col-span-4 grid grid-cols-5 gap-2 items-center",children:[(0,l.jsxs)("div",{className:"text-base",children:["$",E(null==A?void 0:null===(ea=A[eN+1])||void 0===ea?void 0:ea.result)]}),(0,l.jsx)("div",{className:"text-base",children:_(null==B?void 0:null===(el=B[eN+1])||void 0===el?void 0:el.result)}),(0,l.jsxs)("div",{className:"text-base",children:["$",E(null==D?void 0:null===(es=D[eN+1])||void 0===es?void 0:es.result)]}),(0,l.jsxs)("div",{className:"text-base",children:["$",E(null==S?void 0:null===(ei=S[eN+1])||void 0===ei?void 0:ei.result)]}),(0,l.jsx)("div",{className:"text-base",children:U(null==O?void 0:null===(eo=O[eN+1])||void 0===eo?void 0:eo.result)})]})]})}),(0,l.jsx)("div",{className:"overflow-hidden transition-[max-height,opacity] duration-300 ease-in-out relative z-30 ".concat((null===(en=b[t.marketId])||void 0===en?void 0:en.leveraged.isExpanded)?"max-h-[800px] opacity-100 mt-6":"max-h-0 opacity-0"),children:(null===(ed=b[t.marketId])||void 0===ed?void 0:ed.leveraged.isExpanded)&&(0,l.jsxs)("div",{className:"p-6 bg-[#111111]",children:[(0,l.jsxs)("div",{className:"flex border-b border-[#4A7C59]/20",children:[(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),f(e=>({...e,[t.marketId]:{...e[t.marketId],leveraged:{...e[t.marketId].leveraged,activeTab:"deposit"}}}))},className:"px-6 py-3 text-sm font-medium relative ".concat((null===(er=b[t.marketId])||void 0===er?void 0:er.leveraged.activeTab)==="deposit"?"text-[#4A7C59] after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-[#4A7C59]":"text-[#F5F5F5]/50 hover:text-[#F5F5F5]"),children:"Deposit"}),(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),f(e=>({...e,[t.marketId]:{...e[t.marketId],leveraged:{...e[t.marketId].leveraged,activeTab:"withdraw"}}}))},className:"px-6 py-3 text-sm font-medium relative ".concat((null===(ec=b[t.marketId])||void 0===ec?void 0:ec.leveraged.activeTab)==="withdraw"?"text-[#4A7C59] after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-[#4A7C59]":"text-[#F5F5F5]/50 hover:text-[#F5F5F5]"),children:"Withdraw"}),(0,l.jsx)("button",{onClick:e=>{e.stopPropagation(),f(e=>({...e,[t.marketId]:{...e[t.marketId],leveraged:{...e[t.marketId].leveraged,activeTab:"rewards"}}}))},className:"px-6 py-3 text-sm font-medium relative ".concat((null===(eu=b[t.marketId])||void 0===eu?void 0:eu.leveraged.activeTab)==="rewards"?"text-[#4A7C59] after:absolute after:bottom-0 after:left-0 after:w-full after:h-0.5 after:bg-[#4A7C59]":"text-[#F5F5F5]/50 hover:text-[#F5F5F5]"),children:"Rewards"})]}),(0,l.jsxs)("div",{className:"mt-6 p-4 bg-black",onClick:e=>e.stopPropagation(),children:[(null===(em=b[t.marketId])||void 0===em?void 0:em.leveraged.activeTab)==="deposit"&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsx)("p",{className:"text-sm text-[#F5F5F5]/50",children:"Wallet Balance"}),(0,l.jsxs)("p",{className:"text-sm text-[#F5F5F5]",children:[E(null==R?void 0:null===(ep=R[ew+1])||void 0===ep?void 0:ep.result)," ",t.genesis.rewards.pegged.symbol]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("input",{type:"text",value:null===(ex=b[t.marketId])||void 0===ex?void 0:ex.leveraged.depositAmount,onChange:e=>f(a=>({...a,[t.marketId]:{...a[t.marketId],leveraged:{...a[t.marketId].leveraged,depositAmount:e.target.value}}})),placeholder:"0.0",className:"flex-1 bg-black text-white p-3 border border-[#4A7C59]/20 focus:outline-none focus:border-[#4A7C59]"}),(0,l.jsx)("button",{onClick:()=>q(t.marketId,"leveraged"),className:"px-4 py-2 text-sm bg-[#4A7C59]/10 text-[#4A7C59] hover:bg-[#4A7C59]/20 border border-[#4A7C59]/20",children:"MAX"})]}),(0,l.jsx)("button",{onClick:()=>W(t.marketId,"leveraged"),disabled:!e||!(null===(ev=b[t.marketId])||void 0===ev?void 0:ev.leveraged.depositAmount),className:"w-full py-3 bg-[#4A7C59] text-white font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#4A7C59]/90",children:"Deposit"})]}),(null===(eb=b[t.marketId])||void 0===eb?void 0:eb.leveraged.activeTab)==="withdraw"&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("input",{type:"text",value:null===(ef=b[t.marketId])||void 0===ef?void 0:ef.leveraged.withdrawAmount,onChange:e=>f(a=>({...a,[t.marketId]:{...a[t.marketId],leveraged:{...a[t.marketId].leveraged,withdrawAmount:e.target.value}}})),placeholder:"0.0",className:"flex-1 bg-black text-white p-3 border border-[#4A7C59]/20 focus:outline-none focus:border-[#4A7C59]"}),(0,l.jsx)("button",{onClick:()=>G(t.marketId,"leveraged"),className:"px-4 py-2 text-sm bg-[#4A7C59]/10 text-[#4A7C59] hover:bg-[#4A7C59]/20 border border-[#4A7C59]/20",children:"MAX"})]}),(0,l.jsx)("button",{onClick:()=>z(t.marketId,"leveraged"),disabled:!e||!(null===(eh=b[t.marketId])||void 0===eh?void 0:eh.leveraged.withdrawAmount),className:"w-full py-3 bg-[#4A7C59] text-white font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#4A7C59]/90",children:"Withdraw"})]}),(null===(eg=b[t.marketId])||void 0===eg?void 0:eg.leveraged.activeTab)==="rewards"&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-[#F5F5F5]/50 mb-1",children:"Claimable Rewards"}),(0,l.jsx)("p",{className:"text-lg font-medium text-[#4A7C59]",children:E(null==I?void 0:null===(ey=I[2*ew+1])||void 0===ey?void 0:ey.result)})]})}),(0,l.jsx)("button",{onClick:()=>L(t.marketId,"leveraged"),disabled:!e,className:"w-full py-3 bg-[#4A7C59] text-white font-medium disabled:opacity-50 disabled:cursor-not-allowed hover:bg-[#4A7C59]/90",children:"Claim Rewards"})]})]})]})})]})]},t.marketId)})})]})]})]},a)})})]})]})}},5523:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var l=a(3827),s=a(5903),i=a.n(s),o=a(3902),n=a(4090);function d(){let{address:e,isConnected:t}=(0,o.useAccount)(),{connect:a,connectors:s,error:d,isLoading:r,pendingConnector:c}=(0,o.useConnect)(),[u,m]=(0,n.useState)(!1);(0,n.useEffect)(()=>{m(!0)},[]);let p=async()=>{let e=s[0];if(e)try{await a({connector:e})}catch(e){console.error("Failed to connect:",e)}else console.error("No injected connector found")};return u?(0,l.jsx)("button",{onClick:p,disabled:r,className:"".concat(r?"bg-[#3A6147] cursor-wait":"bg-[#4A7C59] hover:bg-[#3A6147]"," px-6 py-2 text-white text-lg tracking-wider transition-all uppercase ").concat(i().className),children:r?"Connecting to ".concat((null==c?void 0:c.name)||"wallet","..."):t?"".concat(e.slice(0,6),"...").concat(e.slice(-4)):"Connect Wallet"}):(0,l.jsx)("button",{className:"bg-[#4A7C59] hover:bg-[#3A6147] px-6 py-2 text-white text-lg tracking-wider transition-all uppercase ".concat(i().className),children:"Connect Wallet"})}},3170:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var l=a(3827),s=a(4967),i=a.n(s),o=a(8792),n=a(703),d=a(5523);function r(){return(0,l.jsx)("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-[#1A1A1A]/90 backdrop-blur-sm border-b border-[#4A7C59]/20",children:(0,l.jsx)("div",{className:"container mx-auto px-6",children:(0,l.jsxs)("div",{className:"flex items-center h-20",children:[(0,l.jsxs)(o.default,{href:"/",className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-20 h-18 flex items-center justify-center",children:(0,l.jsx)(n.default,{src:"/logo.svg",alt:"Zhenglong Protocol",width:80,height:70,className:"w-full h-full"})}),(0,l.jsx)("span",{className:"text-3xl tracking-wider text-[#4A7C59] ".concat(i().className),children:"zhenglong"})]}),(0,l.jsx)("div",{className:"flex-1 flex justify-center",children:(0,l.jsxs)("div",{className:"flex items-center gap-12",children:[(0,l.jsx)(o.default,{href:"/app",className:"text-xl text-white hover:text-white/80 transition-colors ".concat(i().className),children:"Mint/Redeem"}),(0,l.jsx)(o.default,{href:"/earn",className:"text-xl text-white hover:text-white/80 transition-colors ".concat(i().className),children:"Earn"}),(0,l.jsx)(o.default,{href:"/vote",className:"text-xl text-white hover:text-white/80 transition-colors ".concat(i().className),children:"Vote"}),(0,l.jsx)(o.default,{href:"/genesis",className:"text-xl text-white hover:text-white/80 transition-colors ".concat(i().className),children:"Genesis"}),(0,l.jsx)(o.default,{href:"/staking",className:"text-xl text-white hover:text-white/80 transition-colors ".concat(i().className),children:"Staking"})]})}),(0,l.jsx)(d.Z,{})]})})})}},2829:function(e,t,a){"use strict";a.d(t,{Uu:function(){return l}});let l={"steth-usd":{id:"steth-usd",name:"stETH/USD",description:"Lido Staked ETH / US Dollar",addresses:{collateralToken:"0x7f39C581F595B53c5cb19bD0b3f8dA6c935E2Ca0",feeReceiver:"0x99aA73dA6309b8eC484eF2C95e96C131C1BBF7a0",genesis:"0xEd3AAE51d33138ef67555AE0925A38E77Df5B7e0",leveragedToken:"0xAf7868a9BB72E16B930D50636519038d7F057470",minter:"0x3aD2306eDfBe72ce013cdb6b429212d9CdDE4F96",owner:"0xFC69e0a5823E2AfCBEb8a35d33588360F1496a00",peggedToken:"0x7945b0A6674b175695e5d1D08aE1e6F13744Abb0",priceOracle:"0x97541208c6C8ecfbe57B8A44ba86f2A88bA783e2",rebalancePoolCollateral:"0x37e2156B0d78098F06F8075a18d7E3a09483048e",rebalancePoolLeveraged:"0xfC47d03bd4C8a7E62A62f29000ceBa4D84142343",reservePool:"0xFBc00Fa47a7d3bbE3e82B5Aa560B47008c1bD64c",collateralPrice:"0xCfE54B5cD566aB89272946F602D76Ea879CAb4a8"},genesis:{startDate:"2024-03-21T00:00:00Z",endDate:"2024-03-22T20:15:00Z",rewards:{pegged:{symbol:"zheUSD",amount:"1000000"},leveraged:{symbol:"steamedETH",amount:"1000000"}},collateralRatio:1,leverageRatio:1}}};l["steth-usd"],l["steth-usd"].addresses},5153:function(e){e.exports={style:{fontFamily:"'__Geo_ea146f', '__Geo_Fallback_ea146f'",fontWeight:400,fontStyle:"normal"},className:"__className_ea146f"}},5903:function(e){e.exports={style:{fontFamily:"'__Geo_ea146f', '__Geo_Fallback_ea146f'",fontWeight:400,fontStyle:"normal"},className:"__className_ea146f"}},4967:function(e){e.exports={style:{fontFamily:"'__Geo_ea146f', '__Geo_Fallback_ea146f'",fontWeight:400,fontStyle:"normal"},className:"__className_ea146f"}},3910:function(e,t,a){"use strict";a.d(t,{f:function(){return i}});var l=a(4817),s=a(73);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wei";return(0,s.v)(e,l.ez[t])}}},function(e){e.O(0,[902,607,971,69,744],function(){return e(e.s=5582)}),_N_E=e.O()}]);