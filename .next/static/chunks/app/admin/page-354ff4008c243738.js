(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{4532:function(e,t,a){Promise.resolve().then(a.bind(a,679))},679:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return g}});var s=a(3827),n=a(4090),l=a(3902),r=a(3910),i=a(2926),c=a(2829),o=a(5523),d=a(3170);let u=[{inputs:[{name:"config_",type:"tuple"}],name:"updateConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"feeReceiver_",type:"address"}],name:"updateFeeReceiver",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"reservePool_",type:"address"}],name:"updateReservePool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"priceOracle_",type:"address"}],name:"updatePriceOracle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"ZERO_FEE_ROLE",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"collateralIn",type:"uint256"},{name:"receiver",type:"address"}],name:"freeMintPeggedToken",outputs:[{type:"uint256",name:"peggedOut"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"peggedIn",type:"uint256"},{name:"receiver",type:"address"}],name:"freeRedeemPeggedToken",outputs:[{type:"uint256",name:"collateralOut"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"peggedIn",type:"uint256"},{name:"receiver",type:"address"}],name:"freeSwapPeggedForLeveraged",outputs:[{type:"uint256",name:"leveragedOut"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"collateralIn",type:"uint256"},{name:"receiver",type:"address"}],name:"freeMintLeveragedToken",outputs:[{type:"uint256",name:"leveragedOut"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"leveragedIn",type:"uint256"},{name:"receiver",type:"address"}],name:"freeRedeemLeveragedToken",outputs:[{type:"uint256",name:"collateralOut"}],stateMutability:"nonpayable",type:"function"}],p=[{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"}],m=[{inputs:[],name:"updatePrice",outputs:[],stateMutability:"nonpayable",type:"function"}],x=e=>{try{let t=e.replace(/[^\d.]/g,"");if(!t||isNaN(Number(t)))return BigInt(0);return(0,r.f)(t)}catch(e){return BigInt(0)}};function g(){let{isConnected:e,address:t}=(0,l.useAccount)(),[a,g]=(0,n.useState)(!1),[h,b]=(0,n.useState)(""),[f,v]=(0,n.useState)(""),[F,y]=(0,n.useState)(""),[N,j]=(0,n.useState)(""),[A,w]=(0,n.useState)(""),[C,k]=(0,n.useState)(""),[_,E]=(0,n.useState)(""),[P,T]=(0,n.useState)(""),[M,R]=(0,n.useState)(""),[S,O]=(0,n.useState)(""),[B,U]=(0,n.useState)(""),[L,D]=(0,n.useState)(!1);(0,n.useEffect)(()=>{g(!0)},[]);let W=c.Uu[Object.keys(c.Uu)[0]].addresses.minter,{write:I}=(0,l.useContractWrite)({address:W,abi:u,functionName:"updateFeeReceiver"}),{write:Z}=(0,l.useContractWrite)({address:W,abi:u,functionName:"updateReservePool"}),{write:H}=(0,l.useContractWrite)({address:W,abi:u,functionName:"updatePriceOracle"}),{write:G,isLoading:z}=(0,l.useContractWrite)({address:W,abi:u,functionName:"freeMintPeggedToken",args:[x(N||"0"),S]}),{write:$}=(0,l.useContractWrite)({address:W,abi:u,functionName:"freeRedeemPeggedToken",args:[(0,r.f)(_||"0"),S]}),{write:q}=(0,l.useContractWrite)({address:W,abi:u,functionName:"freeSwapPeggedForLeveraged",args:[(0,r.f)(P||"0"),S]}),{write:V,isLoading:J}=(0,l.useContractWrite)({address:W,abi:u,functionName:"freeMintLeveragedToken",args:[x(C||"0"),S]}),{write:K}=(0,l.useContractWrite)({address:W,abi:u,functionName:"freeRedeemLeveragedToken",args:[(0,r.f)(M||"0"),S]}),{data:Q}=(0,l.useContractRead)({address:W,abi:u,functionName:"ZERO_FEE_ROLE"}),{data:X}=(0,l.useContractRead)({address:c.Uu[Object.keys(c.Uu)[0]].addresses.collateralToken,abi:p,functionName:"allowance",args:[t,W],watch:!0}),{write:Y}=(0,l.useContractWrite)({address:c.Uu[Object.keys(c.Uu)[0]].addresses.collateralToken,abi:p,functionName:"approve",args:[W,x(B)]}),{write:ee}=(0,l.useContractWrite)({address:c.Uu[Object.keys(c.Uu)[0]].addresses.priceOracle,abi:m,functionName:"updatePrice"}),et=async()=>{if(!e||!t){console.error("Wallet not connected");return}if(!N||!S){console.error("Missing amount or receiver address");return}try{let e=x(N);if(e===BigInt(0)){console.error("Invalid amount");return}console.log("Minting pegged token with:",{amount:N,parsedAmount:e.toString(),receiver:S,minter:W,allowance:null==X?void 0:X.toString()});let t=await G();console.log("Mint transaction result:",t)}catch(e){console.error("Error minting pegged token:",e)}},ea=async()=>{if(!e||!t){console.error("Wallet not connected");return}if(!C||!S){console.error("Missing amount or receiver address");return}try{let e=x(C);if(e===BigInt(0)){console.error("Invalid amount");return}console.log("Minting leveraged token with:",{amount:C,parsedAmount:e.toString(),receiver:S,minter:W,allowance:null==X?void 0:X.toString()});let t=await V();console.log("Mint transaction result:",t)}catch(e){console.error("Error minting leveraged token:",e)}};return a?(0,s.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,s.jsx)(d.Z,{}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-8 text-[#4A7C59]",children:"Admin Panel"}),e?(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"bg-[#1A1A1A]/95 p-6 shadow-[0_0_15px_rgba(74,124,89,0.1)]",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4 text-[#4A7C59]",children:"Update Fee Receiver"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("input",{type:"text",value:h,onChange:e=>b(e.target.value),placeholder:"Enter new fee receiver address",className:"flex-1 bg-[#202020] px-4 py-2 text-[#F5F5F5]/70 placeholder-[#F5F5F5]/30"}),(0,s.jsx)("button",{onClick:()=>{h&&I({args:[h]})},className:"bg-[#4A7C59] px-4 py-2 hover:bg-[#4A7C59]/80 text-white",children:"Update"})]})]}),(0,s.jsxs)("div",{className:"bg-[#1A1A1A]/95 p-6 shadow-[0_0_15px_rgba(74,124,89,0.1)]",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4 text-[#4A7C59]",children:"Update Reserve Pool"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("input",{type:"text",value:f,onChange:e=>v(e.target.value),placeholder:"Enter new reserve pool address",className:"flex-1 bg-[#202020] px-4 py-2 text-[#F5F5F5]/70 placeholder-[#F5F5F5]/30"}),(0,s.jsx)("button",{onClick:()=>{f&&Z({args:[f]})},className:"bg-[#4A7C59] px-4 py-2 hover:bg-[#4A7C59]/80 text-white",children:"Update"})]})]}),(0,s.jsxs)("div",{className:"bg-[#1A1A1A]/95 p-6 shadow-[0_0_15px_rgba(74,124,89,0.1)]",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4 text-[#4A7C59]",children:"Update Price Oracle"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("input",{type:"text",value:F,onChange:e=>y(e.target.value),placeholder:"Enter new price oracle address",className:"flex-1 bg-[#202020] px-4 py-2 text-[#F5F5F5]/70 placeholder-[#F5F5F5]/30"}),(0,s.jsx)("button",{onClick:()=>{F&&H({args:[F]})},className:"bg-[#4A7C59] px-4 py-2 hover:bg-[#4A7C59]/80 text-white",children:"Update"})]})]}),(0,s.jsxs)("div",{className:"bg-[#1A1A1A]/95 p-6 shadow-[0_0_15px_rgba(74,124,89,0.1)]",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4 text-[#4A7C59]",children:"Free Functions"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-[#202020] p-4",children:[(0,s.jsx)("h4",{className:"text-lg font-medium mb-3 text-[#F5F5F5]/70",children:"Receiver Address"}),(0,s.jsx)("div",{className:"space-y-3",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 text-[#F5F5F5]/70",children:"Address"}),(0,s.jsx)("input",{type:"text",value:S,onChange:e=>O(e.target.value),placeholder:"Enter receiver address",className:"w-full bg-[#1A1A1A] px-4 py-2 text-[#F5F5F5]/70 placeholder-[#F5F5F5]/30"})]})})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-[#4A7C59]",children:"Minting Operations"}),(0,s.jsxs)("div",{className:"bg-[#202020] p-4",children:[(0,s.jsx)("h4",{className:"text-lg font-medium mb-3 text-[#F5F5F5]/70",children:"Approve Collateral Token"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 text-[#F5F5F5]/70",children:"Amount to Approve"}),(0,s.jsx)("input",{type:"number",value:B,onChange:e=>U(e.target.value),placeholder:"Enter amount to approve",className:"w-full bg-[#1A1A1A] px-4 py-2 text-[#F5F5F5]/70 placeholder-[#F5F5F5]/30"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>{B&&(D(!0),Y(),setTimeout(()=>{D(!1),U("")},5e3))},disabled:L||!B,className:"bg-[#4A7C59] px-4 py-2 hover:bg-[#4A7C59]/80 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:L?"Approving...":"Approve"}),X&&(0,s.jsxs)("span",{className:"text-sm text-[#F5F5F5]/70",children:["Current allowance: ",(0,i.d)(X)]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-[#202020] p-4",children:[(0,s.jsx)("h4",{className:"text-lg font-medium mb-3 text-[#F5F5F5]/70",children:"Mint Pegged Token"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 text-[#F5F5F5]/70",children:"Required Collateral Amount"}),(0,s.jsx)("input",{type:"number",value:N,onChange:e=>j(e.target.value),placeholder:"Collateral Amount",className:"w-full bg-[#1A1A1A] px-4 py-2 text-[#F5F5F5]/70 placeholder-[#F5F5F5]/30"})]}),(0,s.jsx)("button",{onClick:et,disabled:!X||x(N)>X,className:"w-full bg-[#4A7C59] px-4 py-2 hover:bg-[#4A7C59]/80 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:X?x(N)>X?"Insufficient Allowance":"Mint Pegged Token":"Approve First"}),(0,s.jsx)("p",{className:"text-sm text-[#F5F5F5]/70",children:"Note: The collateral amount will be converted to pegged tokens based on the current oracle price (e.g., 1 ETH at $2000/ETH = 2000 pegged tokens)"})]})]}),(0,s.jsxs)("div",{className:"bg-[#202020] p-4",children:[(0,s.jsx)("h4",{className:"text-lg font-medium mb-3 text-[#F5F5F5]/70",children:"Mint Leveraged Token"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1 text-[#F5F5F5]/70",children:"Required Collateral Amount"}),(0,s.jsx)("input",{type:"number",value:C,onChange:e=>k(e.target.value),placeholder:"Collateral Amount",className:"w-full bg-[#1A1A1A] px-4 py-2 text-[#F5F5F5]/70 placeholder-[#F5F5F5]/30"})]}),(0,s.jsx)("button",{onClick:ea,disabled:!X||x(C)>X,className:"w-full bg-[#4A7C59] px-4 py-2 hover:bg-[#4A7C59]/80 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:X?x(C)>X?"Insufficient Allowance":"Mint Leveraged Token":"Approve First"}),(0,s.jsx)("p",{className:"text-sm text-[#F5F5F5]/70",children:"Note: The value of leveraged tokens is the difference between collateral value and pegged token value. For example, if 1 ETH ($2000) is used to mint $1000 worth of pegged tokens, the leveraged tokens will be worth $1000."})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-[#4A7C59]",children:"Redeeming Operations"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"bg-[#202020] p-4",children:[(0,s.jsx)("h4",{className:"text-lg font-medium mb-3 text-[#F5F5F5]/70",children:"Redeem Pegged Token"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("input",{type:"number",value:_,onChange:e=>E(e.target.value),placeholder:"Amount to redeem",className:"w-full bg-[#1A1A1A] px-4 py-2 text-[#F5F5F5]/70 placeholder-[#F5F5F5]/30"}),(0,s.jsx)("button",{onClick:()=>{_&&S&&$()},className:"w-full bg-[#4A7C59] px-4 py-2 hover:bg-[#4A7C59]/80 text-white",children:"Redeem Pegged Token"})]})]}),(0,s.jsxs)("div",{className:"bg-[#202020] p-4",children:[(0,s.jsx)("h4",{className:"text-lg font-medium mb-3 text-[#F5F5F5]/70",children:"Swap Pegged for Leveraged"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("input",{type:"number",value:P,onChange:e=>T(e.target.value),placeholder:"Amount to swap",className:"w-full bg-[#1A1A1A] px-4 py-2 text-[#F5F5F5]/70 placeholder-[#F5F5F5]/30"}),(0,s.jsx)("button",{onClick:()=>{P&&S&&q()},className:"w-full bg-[#4A7C59] px-4 py-2 hover:bg-[#4A7C59]/80 text-white",children:"Swap Pegged for Leveraged"})]})]}),(0,s.jsxs)("div",{className:"bg-[#202020] p-4",children:[(0,s.jsx)("h4",{className:"text-lg font-medium mb-3 text-[#F5F5F5]/70",children:"Redeem Leveraged Token"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("input",{type:"number",value:M,onChange:e=>R(e.target.value),placeholder:"Amount to redeem",className:"w-full bg-[#1A1A1A] px-4 py-2 text-[#F5F5F5]/70 placeholder-[#F5F5F5]/30"}),(0,s.jsx)("button",{onClick:()=>{M&&S&&K()},className:"w-full bg-[#4A7C59] px-4 py-2 hover:bg-[#4A7C59]/80 text-white",children:"Redeem Leveraged Token"})]})]})]})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Price Feed Management"}),(0,s.jsx)("button",{onClick:()=>{ee()},className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded",disabled:!e,children:"Update Price Feed"})]})]}):(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"mb-4 text-[#F5F5F5]/70",children:"Please connect your wallet to access admin functions"}),(0,s.jsx)(o.Z,{})]})]})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,s.jsx)(d.Z,{}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-8 text-[#4A7C59]",children:"Admin Panel"}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"mb-4 text-[#F5F5F5]/70",children:"Please connect your wallet to access admin functions"}),(0,s.jsx)(o.Z,{})]})]})]})}},5523:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var s=a(3827),n=a(5903),l=a.n(n),r=a(3902),i=a(4090);function c(){let{address:e,isConnected:t}=(0,r.useAccount)(),{connect:a,connectors:n,error:c,isLoading:o,pendingConnector:d}=(0,r.useConnect)(),[u,p]=(0,i.useState)(!1);(0,i.useEffect)(()=>{p(!0)},[]);let m=async()=>{let e=n[0];if(e)try{await a({connector:e})}catch(e){console.error("Failed to connect:",e)}else console.error("No injected connector found")};return u?(0,s.jsx)("button",{onClick:m,disabled:o,className:"".concat(o?"bg-[#3A6147] cursor-wait":"bg-[#4A7C59] hover:bg-[#3A6147]"," px-6 py-2 text-white text-lg tracking-wider transition-all uppercase ").concat(l().className),children:o?"Connecting to ".concat((null==d?void 0:d.name)||"wallet","..."):t?"".concat(e.slice(0,6),"...").concat(e.slice(-4)):"Connect Wallet"}):(0,s.jsx)("button",{className:"bg-[#4A7C59] hover:bg-[#3A6147] px-6 py-2 text-white text-lg tracking-wider transition-all uppercase ".concat(l().className),children:"Connect Wallet"})}},3170:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var s=a(3827),n=a(4967),l=a.n(n),r=a(8792),i=a(703),c=a(5523);function o(){return(0,s.jsx)("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-[#1A1A1A]/90 backdrop-blur-sm border-b border-[#4A7C59]/20",children:(0,s.jsx)("div",{className:"container mx-auto px-6",children:(0,s.jsxs)("div",{className:"flex items-center h-20",children:[(0,s.jsxs)(r.default,{href:"/",className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-20 h-18 flex items-center justify-center",children:(0,s.jsx)(i.default,{src:"/logo.svg",alt:"Zhenglong Protocol",width:80,height:70,className:"w-full h-full"})}),(0,s.jsx)("span",{className:"text-3xl tracking-wider text-[#4A7C59] ".concat(l().className),children:"zhenglong"})]}),(0,s.jsx)("div",{className:"flex-1 flex justify-center",children:(0,s.jsxs)("div",{className:"flex items-center gap-12",children:[(0,s.jsx)(r.default,{href:"/app",className:"text-xl text-white hover:text-white/80 transition-colors ".concat(l().className),children:"Mint/Redeem"}),(0,s.jsx)(r.default,{href:"/earn",className:"text-xl text-white hover:text-white/80 transition-colors ".concat(l().className),children:"Earn"}),(0,s.jsx)(r.default,{href:"/vote",className:"text-xl text-white hover:text-white/80 transition-colors ".concat(l().className),children:"Vote"}),(0,s.jsx)(r.default,{href:"/genesis",className:"text-xl text-white hover:text-white/80 transition-colors ".concat(l().className),children:"Genesis"}),(0,s.jsx)(r.default,{href:"/staking",className:"text-xl text-white hover:text-white/80 transition-colors ".concat(l().className),children:"Staking"})]})}),(0,s.jsx)(c.Z,{})]})})})}},2829:function(e,t,a){"use strict";a.d(t,{Uu:function(){return s}});let s={"steth-usd":{id:"steth-usd",name:"stETH/USD",description:"Lido Staked ETH / US Dollar",addresses:{collateralToken:"0x7f39C581F595B53c5cb19bD0b3f8dA6c935E2Ca0",feeReceiver:"0x99aA73dA6309b8eC484eF2C95e96C131C1BBF7a0",genesis:"0xEd3AAE51d33138ef67555AE0925A38E77Df5B7e0",leveragedToken:"0xAf7868a9BB72E16B930D50636519038d7F057470",minter:"0x3aD2306eDfBe72ce013cdb6b429212d9CdDE4F96",owner:"0xFC69e0a5823E2AfCBEb8a35d33588360F1496a00",peggedToken:"0x7945b0A6674b175695e5d1D08aE1e6F13744Abb0",priceOracle:"0x97541208c6C8ecfbe57B8A44ba86f2A88bA783e2",rebalancePoolCollateral:"0x37e2156B0d78098F06F8075a18d7E3a09483048e",rebalancePoolLeveraged:"0xfC47d03bd4C8a7E62A62f29000ceBa4D84142343",reservePool:"0xFBc00Fa47a7d3bbE3e82B5Aa560B47008c1bD64c",collateralPrice:"0xCfE54B5cD566aB89272946F602D76Ea879CAb4a8"},genesis:{startDate:"2024-03-21T00:00:00Z",endDate:"2024-03-22T20:15:00Z",rewards:{pegged:{symbol:"zheUSD",amount:"1000000"},leveraged:{symbol:"steamedETH",amount:"1000000"}},collateralRatio:1,leverageRatio:1}}};s["steth-usd"],s["steth-usd"].addresses},5903:function(e){e.exports={style:{fontFamily:"'__Geo_ea146f', '__Geo_Fallback_ea146f'",fontWeight:400,fontStyle:"normal"},className:"__className_ea146f"}},4967:function(e){e.exports={style:{fontFamily:"'__Geo_ea146f', '__Geo_Fallback_ea146f'",fontWeight:400,fontStyle:"normal"},className:"__className_ea146f"}},3910:function(e,t,a){"use strict";a.d(t,{f:function(){return l}});var s=a(4817),n=a(73);function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wei";return(0,n.v)(e,s.ez[t])}}},function(e){e.O(0,[902,607,971,69,744],function(){return e(e.s=4532)}),_N_E=e.O()}]);